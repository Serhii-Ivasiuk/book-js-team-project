{"mappings":"iiBAAAA,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,qgBCAzDH,EAAA,SCAA,IAAAI,EAAAJ,EAAA,S,0BCAAK,EAAAL,EAAA,SAQO,SAASM,KACbD,EAAAE,KAAKC,QAAQC,UAAUC,SAAS,SAC/BL,EAAAE,KAAKC,QAAQC,UAAUE,IAAI,QAC3BC,SAASC,KAAKC,MAAMC,SAAW,E,OCR5B,SAASC,IACd,IAAMC,EAAeL,SAASM,cAAc,OAC5CD,EAAaE,IAAMC,EAAAC,GACnBJ,EAAaR,UAAUE,IAAI,aAC3B,IAAMW,EAAmBV,SAASM,cAAc,OAChDI,EAAiBb,UAAUE,IAAI,mBAI/B,OAFAW,EAAiBC,UADY,wEAE7BD,EAAiBE,YAAYP,GACtBK,C,CCZTD,EAAiBrB,EAAA,SAAAyB,aAA6C,SAAWzB,EAAA,SAAA0B,QAA6C,S,iBHO/G,SAASC,IACd,IAIMC,EAAyBhB,SAASM,cAAc,MACtDU,EAAuBnB,UAAUE,IAAI,mBCVrCN,EAAAE,KAAKC,QAAQC,UAAUC,SAAS,SAC9BL,EAAAE,KAAKC,QAAQC,UAAUoB,OAAO,QAC9BjB,SAASC,KAAKC,MAAMC,SAAW,UDWjC,EAAAX,EAAA0B,eACGC,MAAK,SAAAC,GACJ,IAAKC,QAAQD,EAAcE,QAEzB,OADA7B,EAAAE,KAAK4B,sBAAsBZ,UAAY,GAChClB,EAAAE,KAAK4B,sBAAsBX,YAAYR,KAGhD,IAAMoB,EAASJ,EACZK,KAAI,SAAAC,G,IAAGC,EAASD,EAATC,UAAWC,EAAKF,EAALE,MACjB,MAAO,sFAIDC,OAF2BF,EAAU,sFA0CwCE,OAxC7ED,EACCH,KACC,SAAAK,G,IACEC,EAAGD,EAAHC,IACAC,EAAiBF,EAAjBE,kBACAC,EAAgBH,EAAhBG,iBACAC,EAAMJ,EAANI,OACAC,EAAUL,EAAVK,WACAC,EAAKN,EAALM,MAOA,OALKD,IACHA,EAAa3B,EAAA6B,GACbL,EAAoB,IACpBC,EAAmB,KAEd,gGAGgCJ,OAFME,EAAI,uHAGtCF,OAD4BM,EAAW,qEAEtCN,OADDI,EAAiB,qCAS1BJ,OARUG,EAAkB,iUAW5BH,OAHAO,GAAgB,gBACjB,4DAGAP,OADCK,GAAkB,iBACnB,wD,IAKJI,KAAK,IAAI,kIAG6ET,OAAVF,EAAU,8C,IAI9FW,KAAK,IACRtB,EAAuBL,UAAYa,EACnC/B,EAAAE,KAAK4B,sBAAsBZ,UAnED,gHAoE1BlB,EAAAE,KAAK4B,sBAAsBX,YAAYI,E,IAExCuB,OAAM,SAAAC,GAELhC,EAAAiC,GAASC,OAAOC,QAAQ,wC,IAGzBC,QAAQlD,E,CInFb2C,EAAiBjD,EAAA,SAAAyB,aAA6C,SAAWzB,EAAA,SAAA0B,QAA6C,SJsFtHC,IAEAtB,EAAAE,KAAKkD,KAAKC,iBAAiB,SAAS,WAClC/B,G,IKzFFtB,EAAAL,EAAA,SCAAI,EAAAJ,EAAA,SCAO,SAAS2D,EAAmBX,GACjC,IAAIY,EAAuBZ,EAAMa,MAAM,KACvC,GAAmC,IAAhCD,EAAqB1B,OACtB,OAAO0B,EAETA,EAAuBA,EAAqBA,EAAqB1B,OAAS,GAC1E,IAAI4B,EAAed,EAAMa,MAAM,KAC/BC,EAAaC,MACb,IAAIC,EAAoBF,EAAaZ,KAAK,KAC1C,MAAO,GAAuDT,OAApDuB,EAAkB,oCAAuDvB,OAArBmB,EAAqB,U,2BDqB9E,SAASK,EAAoBC,GAClCA,EAAEC,iBACF,IAAML,EAAeI,EAAEE,OAAOC,QAAQP,aAEtC,GAAKA,EAAL,CAIuBlD,SAAS0D,cAAc,uBAC/B7D,UAAUoB,OAAO,sBAERjB,SAAS0D,cAC/B,wBAAqC7B,OAAbqB,EAAa,OAEvBrD,UAAUE,IAAI,sBAyEhC,SAA+B4D,G,IAASC,EAAAC,UAAAvC,OAAA,YAAAuC,UAAA,GAAkBA,UAAA,GAAP,QACjDF,EAAQG,eAAe,CACrBC,SAAU,SACVH,Y,CA1EFI,CAAsBvE,EAAAE,KAAKsE,iBAE3B,IAAIC,EAAYlE,SAASM,cAAc,MACjC6D,EAAyBnE,SAASM,cAAc,MACtD4D,EAAUrE,UAAUE,IAAI,iBACxBmE,EAAUvD,UAAYoC,EAAmBG,GACzCiB,EAAuBtE,UAAUE,IAAI,qBAAsB,mBAEtC,mBAAjBmD,GAKJ,EAAA1D,EAAA4E,oBAAmBlB,GAChB/B,MAAK,SAAAkD,GACJ,IAAKhD,QAAQgD,EAAK/C,QAEhB,OADA7B,EAAAE,KAAK4B,sBAAsBZ,UAAY,GAChClB,EAAAE,KAAK4B,sBAAsBX,YAAYR,KAGhD,IAAMkE,EAAYD,EACf5C,KACC,SAAAK,G,IACEK,EAAUL,EAAVK,WACAH,EAAiBF,EAAjBE,kBACAC,EAAgBH,EAAhBG,iBACAC,EAAMJ,EAANI,OACAE,EAAKN,EAALM,MAEAL,GADSD,EAATyC,UACGzC,EAAHC,KAOA,OALKI,IACHA,EAAa3B,EAAA6B,GACbL,EAAoB,IACpBC,EAAmB,KAEd,gFAKJJ,OAJkCE,EAAI,yGAMpCF,OAFFM,EAAW,gEAGNN,OADHI,EAAiB,yBASAJ,OARdG,EAAkB,0NASHH,OADDO,GAAgB,gBAAgB,4CACIP,OAAnCK,GAAkB,iBAAiB,wB,IAK7DI,KAAK,IAER6B,EAAuBxD,UAAY2D,EAEnC7E,EAAAE,KAAKsE,gBAAgBtD,UAAY,GACjClB,EAAAE,KAAKsE,gBAAgBrD,YAAYsD,GACjCzE,EAAAE,KAAKsE,gBAAgBrD,YAAYuD,E,IAElC5B,OAAM,SAAAC,G,OACLhC,EAAAiC,GAASC,OAAOC,QAAQ,wC,IA1D1B5B,GApBA,C,EA3BJ,EAAAvB,EAAAgF,mBACGrD,MAAK,SAAAsD,GACJ,IAAMC,EAAoBD,EACvBhD,KAAI,SAAAkD,GACH,MAAO,oGAE6E9C,OAAtC8C,EAAS,+BAAsC9C,OAAT8C,EAAS,2B,IAG9FrC,KAAK,IACR7C,EAAAE,KAAKiF,eAAejE,UAAa,0NAIjClB,EAAAE,KAAKiF,eAAeC,mBAAmB,YAAaH,E,IAErDnC,OAAM,SAAAC,G,OACLhC,EAAAiC,GAASC,OAAOC,QAAQ,wC,IAG5BlD,EAAAE,KAAKiF,eAAe9B,iBAAiB,QAASO,GDzB9C5D,EAAAE,KAAK4B,sBAAsBuB,iBAAiB,QAASO,G,uDGHrD,IAAAyB,EAAA1F,EAAA,S,4ECAAK,EAAAL,EAAA,SAKO,SAAS2F,EAAqBC,GAC/BA,EAAMC,gBAAkBD,EAAMxB,QAChC0B,G,CAKG,SAASC,EAAqBH,GAVf,WAWhBA,EAAMI,KACRF,G,CAKG,SAASA,IACdzF,EAAAE,KAAK0F,cAAcxF,UAAUE,IAAI,aAGjCN,EAAAE,KAAK2F,cAAcC,oBAAoB,QAASL,GAChDzF,EAAAE,KAAK0F,cAAcE,oBAAoB,QAASR,GAChDtF,EAAAE,KAAK6F,cAAcD,oBAAoB,QAASE,GAChDC,OAAOH,oBAAoB,UAAWJ,GACtCnF,SAASC,KAAKC,MAAMC,SAAW,E,OC3BjCwF,EAAiBvG,EAAA,SAAAyB,aAA6C,SAAWzB,EAAA,SAAA0B,QAA6C,S,MCAtH8E,EAAiBxG,EAAA,SAAAyB,aAA6C,SAAWzB,EAAA,SAAA0B,QAA6C,S,MCAtH+E,EAAiBzG,EAAA,SAAAyB,aAA6C,SAAWzB,EAAA,SAAA0B,QAA6C,S,MCAtHgF,EAAiB1G,EAAA,SAAAyB,aAA6C,SAAWzB,EAAA,SAAA0B,QAA6C,S,MCAtHiF,EAAiB3G,EAAA,SAAAyB,aAA6C,SAAWzB,EAAA,SAAA0B,QAA6C,S,MCAtHkF,EAAiB5G,EAAA,SAAAyB,aAA6C,SAAWzB,EAAA,SAAA0B,QAA6C,SPoBtH,IA+LQmF,EA/LFC,EAAqBlG,SAAS0D,cAAc,aAC9CyC,EAAc,GACdC,EAAa,GACbC,EAAY,G,SASDC,I,OAAAA,EAAf9F,EAAAsE,EAAA,CAAAtE,EAAA+F,GAAAC,MAAA,SAAAC,EAA2BnD,G,IAUjBoD,EAGAC,EACAC,E,8EAZNtD,EAAEC,iBAEGD,EAAEE,OAAOqD,QAAQ,oBAAmB,C,uDAIzCC,IAEMJ,EAASpD,EAAEE,OAAOqD,QAAQ,oBAAoBpD,QAAQsD,GAC5DV,EAAYK,E,UAEW,EAAAlH,EAAAwH,eAAcN,G,OAA/BC,EAAQM,EAAAC,KACRN,EAASO,EAAiBR,GAEhCN,EAAY,CACVK,SACAC,YAGFlH,EAAAE,KAAKyH,mBAAmBzG,UAAYiG,EAEpCR,EAAWiB,SAAQ,SAAAC,GACjBnB,EAAYoB,KAAKD,EAAKZ,O,IAGpBP,EAAYqB,SAASnB,EAAUK,SACjCjH,EAAAE,KAAK6F,cAAc7E,UAAY,gCAC/BlB,EAAAE,KAAK8H,UAAUvH,MAAMwH,QAAU,MAE/BjI,EAAAE,KAAK6F,cAAc7E,UAAY,uBAC/BlB,EAAAE,KAAK8H,UAAUvH,MAAMwH,QAAU,KAGI,OAAjCC,aAAaC,QAAQ,UACvBnI,EAAAE,KAAK6F,cAAc7E,UAAY,uBAC/BlB,EAAAE,KAAK8H,UAAUvH,MAAMwH,QAAU,KAGhBf,EAASpC,UAE1BvE,SAASC,KAAKC,MAAMC,SAAW,SAC/BV,EAAAE,KAAK0F,cAAcxF,UAAUoB,OAAO,aACpCxB,EAAAE,KAAK2F,cAAcxC,iBAAiB,QAASoC,GAC7CzF,EAAAE,KAAK0F,cAAcvC,iBAAiB,QAASiC,GAC7CtF,EAAAE,KAAK6F,cAAc1C,iBAAiB,QAAS2C,GAC7CC,OAAO5C,iBAAiB,UAAWqC,G,kDAEnC3E,EAAAiC,GAASC,OAAOC,QAAS,yC,2DAjDHkF,MAAAC,KAAAjE,U,CAqD1B,SAASsD,EAAiBrF,G,IACxBM,EADwBN,EACxBM,MACAF,EAFwBJ,EAExBI,OACAF,EAHwBF,EAGxBE,kBACAC,EAJwBH,EAIxBG,iBACAE,EALwBL,EAKxBK,WACA4F,EANwBjG,EAMxBiG,YACAxD,EAPwBzC,EAOxByC,UAEKpC,IACHA,EAAa3B,EAAA6B,GACbL,EAAoB,IACpBC,EAAmB,KAEhB8F,IACHA,EAAc,0DAEX7F,IACHA,EAAS,kBAENE,IACHA,EAAQ,iBAGV,IAAI4F,EAAa,GACbC,EAAY,GACZC,EAAe,GAenB,OAbA3D,EAAU8C,SAAQ,SAAAc,GACE,WAAdA,EAAKC,OACPJ,EAAaG,EAAKE,KAGF,gBAAdF,EAAKC,OACPH,EAAYE,EAAKE,KAGD,aAAdF,EAAKC,OACPF,EAAeC,EAAKE,I,IAGjB,+EAGIxG,OADDM,EAAW,iBAETN,OADDO,EAAM,mBAEJP,OADDI,EAAiB,mBAKMJ,OAJtBG,EAAkB,kGAKMH,OADFO,EAAM,gDAGjCP,OAF6BK,EAAO,uDAK3BL,OAHTkG,EAAY,yEAOJlG,OAJCmG,EAAW,kIAKZnG,OADArB,EAAAmF,GAAO,uBAMJ9D,OALHrB,EAAAoF,GAAS,kHAWR/D,OANErB,EAAAmF,GAAO,kIAUV9D,OAJCoG,EAAU,kIAKXpG,OADArB,EAAAqF,GAAM,uBAMHhE,OALHrB,EAAAsF,GAAQ,kHAUPjE,OALErB,EAAAqF,GAAM,sHASThE,OAJCqG,EAAa,kIAKdrG,OADArB,EAAAuF,GAAS,uBAMNlE,OALHrB,EAAAwF,GAAW,kHAKCnE,OAATrB,EAAAuF,GAAS,gI,CASvB,SAASN,IACd,IAAM6C,EAAgBlC,EAAWmC,MAC/B,SAAAjB,G,OAAQA,EAAKZ,SAAWL,EAAUK,M,IAEpC,GAAqC,OAAjCiB,aAAaC,QAAQ,QACvB,OAwBJ,WACE,GAAqC,OAAjCD,aAAaC,QAAQ,QAQvB,OAPAnI,EAAAE,KAAK6F,cAAcgD,aAAa,WAAY,QAC5C/I,EAAAE,KAAK6F,cAActF,MAAMuI,gBAAkB,UAC3ChJ,EAAAE,KAAK6F,cAActF,MAAMwI,MAAQ,UACjCC,YAAW,WACTlJ,EAAAE,KAAK6F,cAAcoD,gBAAgB,YACnCnJ,EAAAE,KAAK6F,cAActF,MAAQ,M,GAC1B,KACIM,EAAAiC,GAASC,OAAOC,QACrB,kEACA,CAAEkG,QAAS,K,CAnCNC,GACER,GACTlC,EAAaA,EAAW2C,QAAO,SAAAzB,G,OAAQA,EAAKZ,SAAWL,EAAUK,M,IACjEjH,EAAAE,KAAK6F,cAAc7E,UAAY,uBAC/BlB,EAAAE,KAAK8H,UAAUvH,MAAMwH,QAAU,IAC/BZ,MAEAV,EAAWmB,KAAKlB,GAChB5G,EAAAE,KAAK6F,cAAc7E,UAAY,gCAC/BlB,EAAAE,KAAK8H,UAAUvH,MAAMwH,QAAU,IAC/BZ,I,CASJ,SAASA,IACPa,aAAaqB,QAAQ,WAAY1J,KAAK2J,UAAU7C,IAChDD,EAAc,E,CA/LqB,OAArCwB,aAAaC,QAAQ,YACjBD,aAAaqB,QAAQ,WAAY1J,KAAK2J,UAAU,MAwL5ChD,EAAe0B,aAAaC,QAAQ,YAC1CxB,EAAa9G,KAAKC,MAAM0G,IAtL1BC,EAAmBpD,iBAAiB,S,SAETQ,G,OAAZgD,EAAWuB,MAAAC,KAAAjE,U,0BQhC1BpE,EAAAL,EAAA,SAEAsG,OAAO5C,iBAAiB,UAAU,WAChC,IAAMoG,EAAgBzJ,EAAAE,KAAKwJ,QAAQC,aAC7BC,EAAgB5J,EAAAE,KAAK2J,QAAQF,aAC7BG,EACJ7D,OAAO8D,aAAexJ,SAASyJ,gBAAgBC,UAE1B,IAAnBH,IACF9J,EAAAE,KAAKwJ,QAAQO,UAAY,GAGvBH,EAAiB7D,OAAOiE,aAAeN,IACzC5J,EAAAE,KAAKwJ,QAAQO,UACXR,EAAgBxD,OAAOiE,YAAcN,EAAgBE,E","sources":["node_modules/@parcel/runtime-js/lib/runtime-61cbb7e0a4845895.js","src/js/scripts.js","src/js/main-page-all-catigories.js","src/js/spinner.js","src/js/utility/404.js","node_modules/@parcel/runtime-js/lib/runtime-edbe2071217f8280.js","node_modules/@parcel/runtime-js/lib/runtime-28c20d858c77a2f4.js","src/js/see-more.js","src/js/render-categories.js","src/js/utility/normilize-main-title.js","src/js/bookshelf.js","src/js/close-pop-up.js","node_modules/@parcel/runtime-js/lib/runtime-2ad4c5b87b950c63.js","node_modules/@parcel/runtime-js/lib/runtime-20124682ce7af21a.js","node_modules/@parcel/runtime-js/lib/runtime-12f83fc57aba3de7.js","node_modules/@parcel/runtime-js/lib/runtime-fe659430387c9fdb.js","node_modules/@parcel/runtime-js/lib/runtime-545dbd59761b8ea2.js","node_modules/@parcel/runtime-js/lib/runtime-4677fb65b41fe0e5.js","src/js/utility/auto-scroll-sidebar.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"EVgbq\\\":\\\"index.6b6972dc.js\\\",\\\"izqLI\\\":\\\"shoping-list-bg@1x.2c75914c.png\\\",\\\"5VkSf\\\":\\\"empty_pic.dcf0d48a.jpg\\\",\\\"6ztcb\\\":\\\"amazon@1x.17c4c4f2.png\\\",\\\"1iaLI\\\":\\\"amazon@2x.225c89fa.png\\\",\\\"f8I3T\\\":\\\"apple@1x.bdfd714b.png\\\",\\\"3ZLqn\\\":\\\"apple@2x.93da152b.png\\\",\\\"9Cr2S\\\":\\\"book-shop@1x.926d07c4.png\\\",\\\"8Aq8R\\\":\\\"book-shop@2x.d7c8ffd1.png\\\",\\\"lxDUL\\\":\\\"shopping-list.37dd8764.js\\\"}\"));","import {\n  getCategoryList,\n  getBooksByCategory,\n  getTopBooks,\n  getBookDetail,\n} from './api-service';\n\nimport './main-page-all-catigories';\n//import see more\nimport './see-more';\n\n//import dark/ligth theme\nimport './dark-light-theme';\n\nimport './main-page-all-catigories';\nimport './see-more';\nimport './support';\nimport './firebase/firebase-user';\nimport './user-bar-dropdown';\nimport './authorization-modal';\nimport './bookshelf';\n\n// to-top-button\nimport './to-top';\n\n// render category list\nimport './render-categories';\n\n// mobile-menu\nimport './modal-menu';\n\n// pop up\nimport './close-pop-up';\n\n// auto-scroll_sidebar\nimport './utility/auto-scroll-sidebar';\n","import { getTopBooks } from './api-service';\nimport { refs } from './utility/refs';\nimport Notiflix from 'notiflix';\nimport { showSpinner, hideSpinner } from './spinner';\nimport { notFound } from './utility/404';\nimport empty_pic from '../images/empty_pic.jpg';\n\nexport function renderAllCategories() {\n  let mainTitleAllCategories = `<h1 class='bookcase__cda'>\n          Best Sellers <span class='bookcase__filter'>Books</span>\n        </h1>`;\n\n  const containerBookshelfList = document.createElement('ul');\n  containerBookshelfList.classList.add('bookshelf__list');\n\n  showSpinner();\n  getTopBooks()\n    .then(allCategories => {\n      if (!Boolean(allCategories.length)) {\n        refs.mainSectionCategories.innerHTML = '';\n        return refs.mainSectionCategories.appendChild(notFound());\n      }\n\n      const result = allCategories\n        .map(({ list_name, books }) => {\n          return `\n          <li class='bookshelf__item'>\n            <h2 class='bookshelf__title'>${list_name}</h2>\n            <ul class='bookshelf__content book-card__list'>\n              ${books\n                .map(\n                  ({\n                    _id,\n                    book_image_height,\n                    book_image_width,\n                    author,\n                    book_image,\n                    title,\n                  }) => {\n                    if (!book_image) {\n                      book_image = empty_pic;\n                      book_image_height = 500;\n                      book_image_width = 330;\n                    }\n                    return `<li class='book-card__item'>\n                  <a class='book-card__link' href='#' data-id='${_id}'>\n                    <div class='book-card__wrapper'>\n                      <img class='book-card__image' src='${book_image}' alt=\"Here must be book's name\"\n                      width='${book_image_width}'\n                      height='${book_image_height}'>\n                      <div class='book-card__overlay'>\n                        <p class='book-card__quick-view-text'>quick view</p>\n                      </div>\n                    </div>\n                  </a>\n                  <div class='book-card__wrap'>\n                    <h3 class='book-card__name'>${\n                      title ? title : 'Unknown title'\n                    }</h3>\n                    <p class='book-card__author'>${\n                      author ? author : 'Unknown author'\n                    }</p>\n                  </div>\n                </li>`;\n                  }\n                )\n                .join('')}\n                \n        </ul>\n            <button class='bookshelf__btn' type='button' data-see-more data-category-name='${list_name}'>see more</button>\n         </li>\n      `;\n        })\n        .join('');\n      containerBookshelfList.innerHTML = result;\n      refs.mainSectionCategories.innerHTML = mainTitleAllCategories;\n      refs.mainSectionCategories.appendChild(containerBookshelfList);\n    })\n    .catch(error => {\n\n      Notiflix.Notify.failure('Network error, please try again later');\n    })\n\n    .finally(hideSpinner);\n}\n\nrenderAllCategories();\n\nrefs.logo.addEventListener('click', () => {\n  renderAllCategories();\n});\n","import { refs } from './utility/refs';\n\nexport function showSpinner() {\n  refs.spinner.classList.contains('done') &&\n    refs.spinner.classList.remove('done');\n    document.body.style.overflow = 'hidden';\n}\n\nexport function hideSpinner() {\n  !refs.spinner.classList.contains('done') &&\n    refs.spinner.classList.add('done');\n    document.body.style.overflow = '';\n}","import books from '../../images/shoping-list/shoping-list-bg@1x.png';\nimport { refs } from './refs';\n\nexport function notFound() {\n  const imagePage404 = document.createElement('img');\n  imagePage404.src = books;\n  imagePage404.classList.add('not-found');\n  const containerWarning = document.createElement('div');\n  containerWarning.classList.add('warning-message');\n  const textWarningNotFound = `<p> There are no data to display, please select another category.</p>`;\n  containerWarning.innerHTML =  textWarningNotFound;\n  containerWarning.appendChild(imagePage404);\n  return containerWarning;\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"izqLI\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"5VkSf\");","import { refs } from './utility/refs';\nimport { onCategoryItemClick } from './render-categories';\n\nrefs.mainSectionCategories.addEventListener('click', onCategoryItemClick);\n","import { getBooksByCategory, getCategoryList } from './api-service';\nimport { normalizeMainTitle } from './utility/normilize-main-title';\nimport { renderAllCategories } from './main-page-all-catigories';\nimport { refs } from './utility/refs';\nimport Notiflix from 'notiflix';\nimport { notFound } from './utility/404';\nimport empty_pic from '../images/empty_pic.jpg';\n\ngetCategoryList()\n  .then(categoryList => {\n    const categoryListItems = categoryList\n      .map(category => {\n        return `\n        <li class = 'categories__item'>\n          <button type=\"button\" data-category-name='${category}' class='categories__name'>${category}</button>\n        </li>`;\n      })\n      .join('');\n    refs.categoriesList.innerHTML = `\n       <li class='categories__item categories__item--fixed'>\n          <button type=\"button\" class='categories__name categories__active' data-category-name='All categories'>All categories</button>\n       </li>`;\n    refs.categoriesList.insertAdjacentHTML('beforeend', categoryListItems);\n  })\n  .catch(error =>\n    Notiflix.Notify.failure('Network error, please try again later')\n  );\n\nrefs.categoriesList.addEventListener('click', onCategoryItemClick);\n\nexport function onCategoryItemClick(e) {\n  e.preventDefault();\n  const categoryName = e.target.dataset.categoryName;\n\n  if (!categoryName) {\n    return;\n  }\n\n  const activeCategory = document.querySelector('.categories__active');\n  activeCategory.classList.remove('categories__active');\n\n  const currentCategory = document.querySelector(\n    `[data-category-name=\"${categoryName}\"]`\n  );\n  currentCategory.classList.add('categories__active');\n\n  handleScrollToElement(refs.sectionCategory);\n\n  let mainTitle = document.createElement('h1');\n  const conteinerCategoryBooks = document.createElement('ul');\n  mainTitle.classList.add('bookcase__cda');\n  mainTitle.innerHTML = normalizeMainTitle(categoryName);\n  conteinerCategoryBooks.classList.add('bookshelf__content', 'book-card__list');\n\n  if (categoryName === 'All categories') {\n    renderAllCategories();\n    return;\n  }\n\n  getBooksByCategory(categoryName)\n    .then(data => {\n      if (!Boolean(data.length)) {\n        refs.mainSectionCategories.innerHTML = '';\n        return refs.mainSectionCategories.appendChild(notFound());\n      }\n\n      const booksList = data\n        .map(\n          ({\n            book_image,\n            book_image_height,\n            book_image_width,\n            author,\n            title,\n            buy_links,\n            _id,\n          }) => {\n            if (!book_image) {\n              book_image = empty_pic;\n              book_image_height = 500;\n              book_image_width = 330;\n            }\n            return `<li class='book-card__item'>\n  <a class='book-card__link' href='#' data-id='${_id}'>\n    <div class='book-card__wrapper'>\n      <img\n        class='book-card__image'\n        src='${book_image}'\n        alt=\"Here must be book's name\"\n        width='${book_image_width}'\n        height = '${book_image_height}'\n      />\n      <div class='book-card__overlay'>\n        <p class='book-card__quick-view-text'>quick view</p>\n      </div>\n    </div>\n  </a>\n  <div class='book-card__wrap'>\n    <h3 class='book-card__name'>${title ? title : 'Unknown title'}</h3>\n    <p class='book-card__author'>${author ? author : 'Unknown author'}</p>\n  </div>\n</li>`;\n          }\n        )\n        .join('');\n\n      conteinerCategoryBooks.innerHTML = booksList;\n\n      refs.sectionCategory.innerHTML = '';\n      refs.sectionCategory.appendChild(mainTitle);\n      refs.sectionCategory.appendChild(conteinerCategoryBooks);\n    })\n    .catch(error =>\n      Notiflix.Notify.failure('Network error, please try again later')\n    );\n}\n\nfunction handleScrollToElement(element, position = 'start') {\n  element.scrollIntoView({\n    behavior: 'smooth',\n    position,\n  });\n}\n","export function normalizeMainTitle(title) {\n  let lastWordCategoryName = title.split(' ');\n  if(lastWordCategoryName.length === 1) {\n    return lastWordCategoryName;\n  }\n  lastWordCategoryName = lastWordCategoryName[lastWordCategoryName.length - 1];\n  let categoryName = title.split(' ');\n  categoryName.pop();\n  let innerCategoryName = categoryName.join(' ');\n  return `${innerCategoryName} <span class=\"bookcase__filter\">${lastWordCategoryName}</span>`;\n}\n","import { refs } from './utility/refs';\nimport Notiflix from 'notiflix';\nimport { doc } from 'firebase/firestore/lite';\nimport { getBookDetail } from './api-service';\nimport Notiflix from 'notiflix';\n\nimport {\n  onPopUpBackdropClick,\n  onPopUpEscapeKeydown,\n  closePopUp,\n} from './close-pop-up';\n\nimport amazon from '../images/book-modal/amazon@1x.png';\nimport amazon2x from '../images/book-modal/amazon@2x.png';\nimport apple from '../images/book-modal/apple@1x.png';\nimport apple2x from '../images/book-modal/apple@2x.png';\nimport bookShop from '../images/book-modal/book-shop@1x.png';\nimport bookShop2x from '../images/book-modal/book-shop@2x.png';\nimport empty_pic from '../images/empty_pic.jpg';\n\nconst bookshelfContainer = document.querySelector('.bookcase');\nlet idsForCheck = [];\nlet localBooks = [];\nlet curBookId = [];\nlet userBooksId = [];\n\nlocalStorage.getItem('books-id') === null\n  ? localStorage.setItem('books-id', JSON.stringify([]))\n  : updateLocalBooks();\n\nbookshelfContainer.addEventListener('click', onClickBook);\n\nasync function onClickBook(e) {\n  try {\n    e.preventDefault();\n\n    if (!e.target.closest('.book-card__link')) {\n      return;\n    }\n\n    updateLocal();\n\n    const bookId = e.target.closest('.book-card__link').dataset.id;\n    curBookId = bookId;\n\n    const bookData = await getBookDetail(bookId);\n    const markup = createMarkupCard(bookData);\n\n    curBookId = {\n      bookId,\n      bookData,\n    };\n\n    refs.popupCardContainer.innerHTML = markup;\n\n    localBooks.forEach(book => {\n      idsForCheck.push(book.bookId);\n    });\n\n    if (idsForCheck.includes(curBookId.bookId)) {\n      refs.addToLocalBtn.innerHTML = 'remove from the shopping list';\n      refs.popupDesc.style.opacity = '1';\n    } else {\n      refs.addToLocalBtn.innerHTML = 'add to shopping list';\n      refs.popupDesc.style.opacity = '0';\n    }\n\n    if (localStorage.getItem('user') === null) {\n      refs.addToLocalBtn.innerHTML = 'add to shopping list';\n      refs.popupDesc.style.opacity = '0';\n    }\n\n    const buyLinks = bookData.buy_links;\n\n    document.body.style.overflow = 'hidden';\n    refs.popupBackdrop.classList.remove('is-hidden');\n    refs.popupCloseBtn.addEventListener('click', closePopUp);\n    refs.popupBackdrop.addEventListener('click', onPopUpBackdropClick);\n    refs.addToLocalBtn.addEventListener('click', bookToLocal);\n    window.addEventListener('keydown', onPopUpEscapeKeydown);\n  } catch (error) {\n    Notiflix.Notify.failure(`Network error, please try again later`);\n  }\n}\n\nfunction createMarkupCard({\n  title,\n  author,\n  book_image_height,\n  book_image_width,\n  book_image,\n  description,\n  buy_links,\n}) {\n  if (!book_image) {\n    book_image = empty_pic;\n    book_image_height = 500;\n    book_image_width = 330;\n  }\n  if (!description) {\n    description = 'This book has no description yet. We will add it soon.';\n  }\n  if (!author) {\n    author = 'Unknown author';\n  }\n  if (!title) {\n    title = 'Unknown title';\n  }\n\n  let amazonLink = '';\n  let appleLink = '';\n  let bookShopLink = '';\n\n  buy_links.forEach(link => {\n    if (link.name === 'Amazon') {\n      amazonLink = link.url;\n    }\n\n    if (link.name === 'Apple Books') {\n      appleLink = link.url;\n    }\n\n    if (link.name === 'Bookshop') {\n      bookShopLink = link.url;\n    }\n  });\n  return `<div class=\"pop-up__block-img\"> <img\n      class=\"pop-up__img \"\n      src=${book_image}\n      alt='${title}'\n      width=${book_image_width}\n      heigth=${book_image_height}\n    />\n    </div>\n    <div class=\"pop-up__book-info\">\n      <h2 class=\"card__book-name \">${title}</h2>\n      <h3 class=\"card__book-author \">${author}</h3>\n      <p class=\"card__book-text \">\n        ${description}\n      </p>\n      <div class=\"book-shop__thumb\">\n        <a href=\"${amazonLink}\" class=\"book-shop__link\" target=\"_blank\">\n          <picture>\n            <source\n              srcset=\"\n                ${amazon},\n                ${amazon2x}\n              \"\n            />\n            <img\n              class=\"book-shop__img\"\n              src=\"${amazon}\"\n              alt=\"amazon\"\n              width=\"48\"\n            />\n          </picture>\n        </a>\n        <a href=\"${appleLink}\" class=\"book-shop__link\" target=\"_blank\"\n          ><picture>\n            <source\n              srcset=\"\n                ${apple},\n                ${apple2x}\n              \"\n            />\n            <img\n              class=\"book-shop__img\"\n              src=\"${apple}\"\n              alt=\"apple\"\n              width=\"28\"\n            /> </picture\n        ></a>\n        <a href=\"${bookShopLink}\" class=\"book-shop__link\" target=\"_blank\"\n          ><picture>\n            <source\n              srcset=\"\n                ${bookShop},\n                ${bookShop2x}\n              \"\n            />\n            <img\n              class=\"book-shop__img\"\n              src=\"${bookShop}\"\n              alt=\"book-shop\"\n              width=\"32\"\n            /> </picture\n        ></a>\n      </div>\n    </div>`;\n}\n\nexport function bookToLocal() {\n  const isBookInLocal = localBooks.some(\n    book => book.bookId === curBookId.bookId\n  );\n  if (localStorage.getItem('user') === null) {\n    return isUser();\n  } else if (isBookInLocal) {\n    localBooks = localBooks.filter(book => book.bookId !== curBookId.bookId);\n    refs.addToLocalBtn.innerHTML = 'add to shopping list';\n    refs.popupDesc.style.opacity = '0';\n    updateLocal();\n  } else {\n    localBooks.push(curBookId);\n    refs.addToLocalBtn.innerHTML = 'remove from the shopping list';\n    refs.popupDesc.style.opacity = '1';\n    updateLocal();\n  }\n}\n\nfunction updateLocalBooks() {\n  const localBooksId = localStorage.getItem('books-id');\n  localBooks = JSON.parse(localBooksId);\n}\n\nfunction updateLocal() {\n  localStorage.setItem('books-id', JSON.stringify(localBooks));\n  idsForCheck = [];\n}\n\nfunction isUser() {\n  if (localStorage.getItem('user') === null) {\n    refs.addToLocalBtn.setAttribute('disabled', 'true');\n    refs.addToLocalBtn.style.backgroundColor = '#b4afaf';\n    refs.addToLocalBtn.style.color = '#ffffff';\n    setTimeout(() => {\n      refs.addToLocalBtn.removeAttribute('disabled');\n      refs.addToLocalBtn.style = 'none';\n    }, 2000);\n    return Notiflix.Notify.failure(\n      'Please register or sign in to your account to use this feature.',\n      { timeout: 2000 }\n    );\n  }\n}\n","import { refs } from './utility/refs';\nimport { bookToLocal } from './bookshelf';\nconst ESC_KEY_POPUP = 'Escape';\n\n// click on backdrop closes Pop Up\nexport function onPopUpBackdropClick(event) {\n  if (event.currentTarget === event.target) {\n    closePopUp();\n  }\n}\n\n// click on Esc closes Pop Up\nexport function onPopUpEscapeKeydown(event) {\n  if (event.key === ESC_KEY_POPUP) {\n    closePopUp();\n  }\n}\n\n// closes Pop Up and removes listeners\nexport function closePopUp() {\n  refs.popupBackdrop.classList.add('is-hidden');\n\n  // remove listeners from closeModalBtn, backdrop, keydown(escape)\n  refs.popupCloseBtn.removeEventListener('click', closePopUp);\n  refs.popupBackdrop.removeEventListener('click', onPopUpBackdropClick);\n  refs.addToLocalBtn.removeEventListener('click', bookToLocal);\n  window.removeEventListener('keydown', onPopUpEscapeKeydown);\n  document.body.style.overflow = '';\n}\n","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"6ztcb\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"1iaLI\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"f8I3T\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"3ZLqn\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"9Cr2S\");","module.exports = require('./helpers/bundle-url').getBundleURL('EVgbq') + require('./helpers/bundle-manifest').resolve(\"8Aq8R\");","import { refs } from './refs';\n\nwindow.addEventListener('scroll', function () {\n  const sidebarHeight = refs.sidebar.offsetHeight;\n  const contentHeight = refs.content.offsetHeight;\n  const scrollPosition =\n    window.pageYOffset || document.documentElement.scrollTop;\n\n  if (scrollPosition === 0) {\n    refs.sidebar.scrollTop = 0;\n  }\n\n  if (scrollPosition + window.innerHeight >= contentHeight) {\n    refs.sidebar.scrollTop =\n      sidebarHeight - window.innerHeight + contentHeight - scrollPosition;\n  }\n});\n"],"names":["parcelRequire","register","JSON","parse","$1h2Gi","$kVdBw","$dd8ebecfaae47a78$export$95fec50f68454318","refs","spinner","classList","contains","add","document","body","style","overflow","$b0927a77f41fbfb8$export$a33e918cb4258370","imagePage404","createElement","src","$parcel$interopDefault","$b2f36039ab451c27$exports","containerWarning","innerHTML","appendChild","getBundleURL","resolve","$46acec59beaec5a1$export$5d9ce0d4feca8c54","containerBookshelfList","remove","getTopBooks","then","allCategories","Boolean","length","mainSectionCategories","result","map","param1","list_name","books","concat","param","_id","book_image_height","book_image_width","author","book_image","title","$899e2ba652581010$exports","join","catch","error","$6JpON","Notify","failure","finally","logo","addEventListener","$11fd80f8cd23503f$export$883bce742a325e8","lastWordCategoryName","split","categoryName","pop","innerCategoryName","$06c1abdba9a1ac51$export$6f59276a3735a25b","e","preventDefault","target","dataset","querySelector","element","position","arguments","scrollIntoView","behavior","$06c1abdba9a1ac51$var$handleScrollToElement","sectionCategory","mainTitle","conteinerCategoryBooks","getBooksByCategory","data","booksList","buy_links","getCategoryList","categoryList","categoryListItems","category","categoriesList","insertAdjacentHTML","$bpxeT","$d62e5c52f4ac75e2$export$e71d71b1248c2c46","event","currentTarget","$d62e5c52f4ac75e2$export$a91cc650c2581296","$d62e5c52f4ac75e2$export$9f1ecdbf70301f40","key","popupBackdrop","popupCloseBtn","removeEventListener","addToLocalBtn","$c5446399a2421997$export$5e79b6998b986c67","window","$bb43f0a84dc66282$exports","$507bfe0515aa826e$exports","$0804778934e5f69d$exports","$ead310bc2aab7d84$exports","$942b7a3d36a78045$exports","$36e6ac4e7d190d5f$exports","localBooksId","$c5446399a2421997$var$bookshelfContainer","$c5446399a2421997$var$idsForCheck","$c5446399a2421997$var$localBooks","$c5446399a2421997$var$curBookId","$c5446399a2421997$var$_onClickBook","$2TvXO","mark","_callee","bookId","bookData","markup","closest","$c5446399a2421997$var$updateLocal","id","getBookDetail","_ctx","sent","$c5446399a2421997$var$createMarkupCard","popupCardContainer","forEach","book","push","includes","popupDesc","opacity","localStorage","getItem","apply","this","description","amazonLink","appleLink","bookShopLink","link","name","url","isBookInLocal","some","setAttribute","backgroundColor","color","setTimeout","removeAttribute","timeout","$c5446399a2421997$var$isUser","filter","setItem","stringify","sidebarHeight","sidebar","offsetHeight","contentHeight","content","scrollPosition","pageYOffset","documentElement","scrollTop","innerHeight"],"version":3,"file":"index.6b6972dc.js.map"}