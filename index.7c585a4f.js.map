{"mappings":"qhBAAAA,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,qgBCAzDH,EAAA,SCAA,IAAAI,EAAAJ,EAAA,S,0BCAAK,EAAAL,EAAA,SASO,SAASM,KACbD,EAAAE,KAAKC,QAAQC,UAAUC,SAAS,SAC/BL,EAAAE,KAAKC,QAAQC,UAAUE,IAAI,QAC7BN,EAAAE,KAAKC,QAAQI,kBACbC,SAASC,KAAKC,MAAMC,SAAW,E,OCV1B,SAASC,IACd,MAAMC,EAAeL,SAASM,cAAc,OAC5CD,EAAaE,IAAMC,EAAAC,GACnBJ,EAAaT,UAAUE,IAAI,aAC3B,MAAMY,EAAmBV,SAASM,cAAc,OAChDI,EAAiBd,UAAUE,IAAI,mBAI/B,OAFAY,EAAiBC,UADW,wEAE5BD,EAAiBE,YAAYP,GACtBK,C,CCZTD,EAAiB,IAAAI,IAAoB1B,EAAA,SAAA2B,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,W,iBHOrF,SAASC,IAKd,MAAMC,EAAyBpB,SAASM,cAAc,MACtDc,EAAuBxB,UAAUE,IAAI,mBCVrCN,EAAAE,KAAKC,QAAQC,UAAUC,SAAS,SAC9BL,EAAAE,KAAKC,QAAQC,UAAUyB,OAAO,QAChC7B,EAAAE,KAAKC,QAAQ2B,mBAAmB,aAYzB,mfAXPtB,SAASC,KAAKC,MAAMC,SAAW,UDU/B,EAAAZ,EAAAgC,eACGC,MAAKC,IACJ,IAAKC,QAAQD,EAAcE,QAEzB,OADAnC,EAAAE,KAAKkC,sBAAsBjB,UAAY,GAChCnB,EAAAE,KAAKkC,sBAAsBhB,YAAYR,KAGhD,MAAMyB,EAASJ,EACZK,KAAI,EAACC,UAAEA,EAASC,MAAEA,KACV,sFAE0BD,sFAE3BC,EACCF,KACC,EAACG,IACCA,EAAGC,kBACHA,EAAiBC,iBACjBA,EAAgBC,OAChBA,EAAMC,WACNA,EAAUC,MACVA,MAEKD,IACHA,EAAa7B,EAAA+B,GACbL,EAAoB,IACpBC,EAAmB,KAEd,gGACsCF,uHAENI,mEAC5BF,qCACCD,iUAQVI,GAAgB,0EAGhBF,GAAkB,2EAMvBI,KAAK,oHAGuET,iDAIpFS,KAAK,IACRpB,EAAuBT,UAAYkB,EACnCrC,EAAAE,KAAKkC,sBAAsBjB,UAnEF,gHAoEzBnB,EAAAE,KAAKkC,sBAAsBhB,YAAYQ,EAAuB,IAE/DqB,OAAMC,IACLlC,EAAAmC,GAASC,OAAOC,QAAQ,wCAAwC,IAGjEC,QAAQrD,E,CIlFb8C,EAAiB,IAAA1B,IAAoB1B,EAAA,SAAA2B,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,WJqF5FC,IAEA3B,EAAAE,KAAKqD,KAAKC,iBAAiB,SAAS,KAClC7B,GAAqB,IKxFvB3B,EAAAL,EAAA,SCAAI,EAAAJ,EAAA,SCAO,SAAS8D,EAAmBX,GACjC,IAAIY,EAAuBZ,EAAMa,MAAM,KACvC,GAAmC,IAAhCD,EAAqBvB,OACtB,OAAOuB,EAETA,EAAuBA,EAAqBA,EAAqBvB,OAAS,GAC1E,IAAIyB,EAAed,EAAMa,MAAM,KAG/B,OAFAC,EAAaC,MAEN,GADiBD,EAAaZ,KAAK,uCACoBU,U,2BDqBzD,SAASI,EAAoBC,GAClCA,EAAEC,iBACF,MAAMJ,EAAeG,EAAEE,OAAOC,QAAQN,aAEtC,IAAKA,EACH,OAGqBpD,SAAS2D,cAAc,uBAC/B/D,UAAUyB,OAAO,sBAERrB,SAAS2D,cAC/B,wBAAwBP,OAEVxD,UAAUE,IAAI,sBAyEhC,SAA+B8D,EAASC,EAAW,SACjDD,EAAQE,eAAe,CACrBC,SAAU,S,SACVF,G,CA1EFG,CAAsBxE,EAAAE,KAAKuE,iBAE3B,IAAIC,EAAYlE,SAASM,cAAc,MACvC,MAAM6D,EAAyBnE,SAASM,cAAc,MACtD4D,EAAUtE,UAAUE,IAAI,iBACxBoE,EAAUvD,UAAYsC,EAAmBG,GACzCe,EAAuBvE,UAAUE,IAAI,qBAAsB,mBAEtC,mBAAjBsD,GAKJ,EAAA7D,EAAA6E,oBAAmBhB,GAChB5B,MAAK6C,IACJ,IAAK3C,QAAQ2C,EAAK1C,QAEhB,OADAnC,EAAAE,KAAKkC,sBAAsBjB,UAAY,GAChCnB,EAAAE,KAAKkC,sBAAsBhB,YAAYR,KAGhD,MAAMkE,EAAYD,EACfvC,KACC,EAACO,WACCA,EAAUH,kBACVA,EAAiBC,iBACjBA,EAAgBC,OAChBA,EAAME,MACNA,EAAKiC,UACLA,EAAStC,IACTA,MAEKI,IACHA,EAAa7B,EAAA+B,GACbL,EAAoB,IACpBC,EAAmB,KAEd,gFAC8BF,yGAIlCI,8DAEEF,yBACGD,0NAQcI,GAAgB,0DACfF,GAAkB,2CAK5CI,KAAK,IAER2B,EAAuBxD,UAAY2D,EAEnC9E,EAAAE,KAAKuE,gBAAgBtD,UAAY,GACjCnB,EAAAE,KAAKuE,gBAAgBrD,YAAYsD,GACjC1E,EAAAE,KAAKuE,gBAAgBrD,YAAYuD,EAAuB,IAEzD1B,OAAMC,GACLlC,EAAAmC,GAASC,OAAOC,QAAQ,2CA1D1B1B,G,EA/CJ,EAAA5B,EAAAiF,mBACGhD,MAAKiD,IACJ,MAAMC,EAAoBD,EACvB3C,KAAI6C,GACI,kGAEuCA,+BAAsCA,8BAGrFnC,KAAK,IACRhD,EAAAE,KAAKkF,eAAejE,UAAY,0NAIhCnB,EAAAE,KAAKkF,eAAetD,mBAAmB,YAAaoD,EAAkB,IAEvEjC,OAAMC,GACLlC,EAAAmC,GAASC,OAAOC,QAAQ,2CAG5BrD,EAAAE,KAAKkF,eAAe5B,iBAAiB,QAASM,GDzB9C9D,EAAAE,KAAKkC,sBAAsBoB,iBAAiB,QAASM,G,uDGHrD9D,EAAAL,EAAA,S,kDCAAK,EAAAL,EAAA,SAKO,SAAS0F,EAAqBC,GAC/BA,EAAMC,gBAAkBD,EAAMrB,QAChCuB,G,CAKG,SAASC,EAAqBH,GAVf,WAWhBA,EAAMI,KACRF,G,CAKG,SAASA,IACdxF,EAAAE,KAAKyF,cAAcvF,UAAUE,IAAI,aAGjCN,EAAAE,KAAK0F,cAAcC,oBAAoB,QAASL,GAChDxF,EAAAE,KAAKyF,cAAcE,oBAAoB,QAASR,GAChDrF,EAAAE,KAAK4F,cAAcD,oBAAoB,QAASE,GAChDC,OAAOH,oBAAoB,UAAWJ,GACtCjF,SAASC,KAAKC,MAAMC,SAAW,E,OC3BjCsF,EAAiB,IAAA5E,IAAoB1B,EAAA,SAAA2B,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,W,MCA5FwE,EAAiB,IAAA7E,IAAoB1B,EAAA,SAAA2B,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,W,MCA5FyE,EAAiB,IAAA9E,IAAoB1B,EAAA,SAAA2B,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,W,MCA5F0E,EAAiB,IAAA/E,IAAoB1B,EAAA,SAAA2B,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,W,MCA5F2E,EAAiB,IAAAhF,IAAoB1B,EAAA,SAAA2B,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,W,MCA5F4E,EAAiB,IAAAjF,IAAoB1B,EAAA,SAAA2B,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,WPoB5F,MAAM6E,EAAqB/F,SAAS2D,cAAc,aAClD,IAAIqC,EAAc,GACdC,EAAa,GACbC,EAAY,GAwKT,SAASX,IACd,MAAMY,EAAgBF,EAAWG,MAC/BC,GAAQA,EAAKC,SAAWJ,EAAUI,SAEpC,GAAqC,OAAjCC,aAAaC,QAAQ,QACvB,OAwBJ,WACE,GAAqC,OAAjCD,aAAaC,QAAQ,QAQvB,OAPAhH,EAAAE,KAAK4F,cAAcmB,aAAa,WAAY,QAC5CjH,EAAAE,KAAK4F,cAAcpF,MAAMwG,gBAAkB,UAC3ClH,EAAAE,KAAK4F,cAAcpF,MAAMyG,MAAQ,UACjCC,YAAW,KACTpH,EAAAE,KAAK4F,cAAcuB,gBAAgB,YACnCrH,EAAAE,KAAK4F,cAAcpF,MAAQ,MAAM,GAChC,KACIM,EAAAmC,GAASC,OAAOC,QACrB,kEACA,CAAEiE,QAAS,K,CAnCNC,GACEZ,GACTF,EAAaA,EAAWe,QAAOX,GAAQA,EAAKC,SAAWJ,EAAUI,SACjE9G,EAAAE,KAAK4F,cAAc3E,UAAY,uBAC/BnB,EAAAE,KAAKuH,UAAU/G,MAAMgH,QAAU,IAC/BC,MAEAlB,EAAWmB,KAAKlB,GAChB1G,EAAAE,KAAK4F,cAAc3E,UAAY,gCAC/BnB,EAAAE,KAAKuH,UAAU/G,MAAMgH,QAAU,IAC/BC,I,CASJ,SAASA,IACPZ,aAAac,QAAQ,WAAYhI,KAAKiI,UAAUrB,IAChDD,EAAc,E,CA/LqB,OAArCO,aAAaC,QAAQ,YACjBD,aAAac,QAAQ,WAAYhI,KAAKiI,UAAU,KAuLpD,WACE,MAAMC,EAAehB,aAAaC,QAAQ,YAC1CP,EAAa5G,KAAKC,MAAMiI,E,CAxLtBC,GAEJzB,EAAmB/C,iBAAiB,SAEpCyE,eAA2BlE,GACzB,IAGE,GAFAA,EAAEC,kBAEGD,EAAEE,OAAOiE,QAAQ,oBACpB,OAGFP,IAEA,MAAMb,EAAS/C,EAAEE,OAAOiE,QAAQ,oBAAoBhE,QAAQiE,GAC5DzB,EAAYI,EAEZ,MAAMsB,QAAiB,EAAArI,EAAAsI,eAAcvB,GAC/BwB,EAuCV,UAA0BxF,MACxBA,EAAKF,OACLA,EAAMF,kBACNA,EAAiBC,iBACjBA,EAAgBE,WAChBA,EAAU0F,YACVA,EAAWxD,UACXA,IAEKlC,IACHA,EAAa7B,EAAA+B,GACbL,EAAoB,IACpBC,EAAmB,KAEhB4F,IACHA,EAAc,0DAEX3F,IACHA,EAAS,kBAENE,IACHA,EAAQ,iBAGV,IAAI0F,EAAa,GACbC,EAAY,GACZC,EAAe,GAenB,OAbA3D,EAAU4D,SAAQC,IACE,WAAdA,EAAKC,OACPL,EAAaI,EAAKnH,KAGF,gBAAdmH,EAAKC,OACPJ,EAAYG,EAAKnH,KAGD,aAAdmH,EAAKC,OACPH,EAAeE,EAAKnH,IAAG,IAGpB,+EAEGoB,iBACCC,mBACCH,mBACCD,kGAIsBI,gDACEF,uDAE7B2F,yEAGSC,kIAIDxH,EAAAiF,wBACAjF,EAAAkF,mHAKGlF,EAAAiF,mIAMFwC,kIAIDzH,EAAAmF,wBACAnF,EAAAoF,mHAKGpF,EAAAmF,uHAKFuC,kIAID1H,EAAAqF,wBACArF,EAAAsF,mHAKGtF,EAAAqF,iI,CAxIFyC,CAAiBV,GAEhC1B,EAAY,C,OACVI,E,SACAsB,GAGFpI,EAAAE,KAAK6I,mBAAmB5H,UAAYmH,EAEpC7B,EAAWkC,SAAQ9B,IACjBL,EAAYoB,KAAKf,EAAKC,OAAO,IAG3BN,EAAYwC,SAAStC,EAAUI,SACjC9G,EAAAE,KAAK4F,cAAc3E,UAAY,gCAC/BnB,EAAAE,KAAKuH,UAAU/G,MAAMgH,QAAU,MAE/B1H,EAAAE,KAAK4F,cAAc3E,UAAY,uBAC/BnB,EAAAE,KAAKuH,UAAU/G,MAAMgH,QAAU,KAGI,OAAjCX,aAAaC,QAAQ,UACvBhH,EAAAE,KAAK4F,cAAc3E,UAAY,uBAC/BnB,EAAAE,KAAKuH,UAAU/G,MAAMgH,QAAU,KAGhBU,EAASrD,UAE1BvE,SAASC,KAAKC,MAAMC,SAAW,SAC/BX,EAAAE,KAAKyF,cAAcvF,UAAUyB,OAAO,aACpC7B,EAAAE,KAAK0F,cAAcpC,iBAAiB,QAASgC,GAC7CxF,EAAAE,KAAKyF,cAAcnC,iBAAiB,QAAS6B,GAC7CrF,EAAAE,KAAK4F,cAActC,iBAAiB,QAASuC,GAC7CC,OAAOxC,iBAAiB,UAAWiC,E,CACnC,MAAOvC,GACPlC,EAAAmC,GAASC,OAAOC,QAAQ,wC,2BQjF5BrD,EAAAL,EAAA,SAEAqG,OAAOxC,iBAAiB,UAAU,WAChC,MAAMyF,EAAgBjJ,EAAAE,KAAKgJ,QAAQC,aAC7BC,EAAgBpJ,EAAAE,KAAKmJ,QAAQF,aAC7BG,EACJtD,OAAOuD,aAAe/I,SAASgJ,gBAAgBC,UAE1B,IAAnBH,IACFtJ,EAAAE,KAAKgJ,QAAQO,UAAY,GAGvBH,EAAiBtD,OAAO0D,aAAeN,IACzCpJ,EAAAE,KAAKgJ,QAAQO,UACXR,EAAgBjD,OAAO0D,YAAcN,EAAgBE,E","sources":["node_modules/@parcel/runtime-js/lib/runtime-746779250ae5a413.js","src/js/scripts.js","src/js/main-page-all-catigories.js","src/js/spinner.js","src/js/utility/404.js","node_modules/@parcel/runtime-js/lib/runtime-5352efd976e737a1.js","node_modules/@parcel/runtime-js/lib/runtime-f6f51d94bbfe2efc.js","src/js/see-more.js","src/js/render-categories.js","src/js/utility/normilize-main-title.js","src/js/bookshelf.js","src/js/close-pop-up.js","node_modules/@parcel/runtime-js/lib/runtime-fd50654541a66a56.js","node_modules/@parcel/runtime-js/lib/runtime-67ae93a29efaef04.js","node_modules/@parcel/runtime-js/lib/runtime-5c3b1534d60f7cfe.js","node_modules/@parcel/runtime-js/lib/runtime-08a9e4bb11e25c8c.js","node_modules/@parcel/runtime-js/lib/runtime-d4cf5ffbe15ee498.js","node_modules/@parcel/runtime-js/lib/runtime-1827396f88562bbc.js","src/js/utility/auto-scroll-sidebar.js"],"sourcesContent":["require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"5ZPII\\\":\\\"index.7c585a4f.js\\\",\\\"jcnh0\\\":\\\"shoping-list-bg@1x.2c75914c.png\\\",\\\"amO9v\\\":\\\"empty_pic.dcf0d48a.jpg\\\",\\\"3OouQ\\\":\\\"amazon@1x.17c4c4f2.png\\\",\\\"ctt8U\\\":\\\"amazon@2x.225c89fa.png\\\",\\\"1XqBp\\\":\\\"apple@1x.bdfd714b.png\\\",\\\"gK52N\\\":\\\"apple@2x.93da152b.png\\\",\\\"lT7aj\\\":\\\"book-shop@1x.926d07c4.png\\\",\\\"ifLYX\\\":\\\"book-shop@2x.d7c8ffd1.png\\\",\\\"2Hrug\\\":\\\"shopping-list.3534c062.js\\\"}\"));","import {\n  getCategoryList,\n  getBooksByCategory,\n  getTopBooks,\n  getBookDetail,\n} from './api-service';\n\nimport './main-page-all-catigories';\n//import see more\nimport './see-more';\n\n//import dark/ligth theme\nimport './dark-light-theme';\n\nimport './main-page-all-catigories';\nimport './see-more';\nimport './support';\nimport './firebase/firebase-user';\nimport './user-bar-dropdown';\nimport './authorization-modal';\nimport './bookshelf';\n\n// to-top-button\nimport './to-top';\n\n// render category list\nimport './render-categories';\n\n// mobile-menu\nimport './modal-menu';\n\n// pop up\nimport './close-pop-up';\n\n// auto-scroll_sidebar\nimport './utility/auto-scroll-sidebar';\n","import { getTopBooks } from './api-service';\nimport { refs } from './utility/refs';\nimport Notiflix from 'notiflix';\nimport { showSpinner, hideSpinner } from './spinner';\nimport { notFound } from './utility/404';\nimport empty_pic from '../images/empty_pic.jpg';\n\nexport function renderAllCategories() {\n  let mainTitleAllCategories = `<h1 class='bookcase__cda'>\n          Best Sellers <span class='bookcase__filter'>Books</span>\n        </h1>`;\n\n  const containerBookshelfList = document.createElement('ul');\n  containerBookshelfList.classList.add('bookshelf__list');\n\n  showSpinner();\n  getTopBooks()\n    .then(allCategories => {\n      if (!Boolean(allCategories.length)) {\n        refs.mainSectionCategories.innerHTML = '';\n        return refs.mainSectionCategories.appendChild(notFound());\n      }\n\n      const result = allCategories\n        .map(({ list_name, books }) => {\n          return `\n          <li class='bookshelf__item'>\n            <h2 class='bookshelf__title'>${list_name}</h2>\n            <ul class='bookshelf__content book-card__list'>\n              ${books\n                .map(\n                  ({\n                    _id,\n                    book_image_height,\n                    book_image_width,\n                    author,\n                    book_image,\n                    title,\n                  }) => {\n                    if (!book_image) {\n                      book_image = empty_pic;\n                      book_image_height = 500;\n                      book_image_width = 330;\n                    }\n                    return `<li class='book-card__item'>\n                  <a class='book-card__link' href='#' data-id='${_id}'>\n                    <div class='book-card__wrapper'>\n                      <img class='book-card__image' src='${book_image}' alt=\"Here must be book's name\"\n                      width='${book_image_width}'\n                      height='${book_image_height}'>\n                      <div class='book-card__overlay'>\n                        <p class='book-card__quick-view-text'>quick view</p>\n                      </div>\n                    </div>\n                  </a>\n                  <div class='book-card__wrap'>\n                    <h3 class='book-card__name'>${\n                      title ? title : 'Unknown title'\n                    }</h3>\n                    <p class='book-card__author'>${\n                      author ? author : 'Unknown author'\n                    }</p>\n                  </div>\n                </li>`;\n                  }\n                )\n                .join('')}\n\n        </ul>\n            <button class='bookshelf__btn' type='button' data-see-more data-category-name='${list_name}'>see more</button>\n         </li>\n      `;\n        })\n        .join('');\n      containerBookshelfList.innerHTML = result;\n      refs.mainSectionCategories.innerHTML = mainTitleAllCategories;\n      refs.mainSectionCategories.appendChild(containerBookshelfList);\n    })\n    .catch(error => {\n      Notiflix.Notify.failure('Network error, please try again later');\n    })\n\n    .finally(hideSpinner);\n}\n\nrenderAllCategories();\n\nrefs.logo.addEventListener('click', () => {\n  renderAllCategories();\n});\n","import { refs } from './utility/refs';\n\nexport function showSpinner() {\n  refs.spinner.classList.contains('done') &&\n    refs.spinner.classList.remove('done');\n  refs.spinner.insertAdjacentHTML('afterbegin', SpinnerTemplate());\n  document.body.style.overflow = 'hidden';\n}\n\nexport function hideSpinner() {\n  !refs.spinner.classList.contains('done') &&\n    refs.spinner.classList.add('done');\n  refs.spinner.replaceChildren();\n  document.body.style.overflow = '';\n}\n\nexport function SpinnerTemplate() {\n  return `\n  <div class=\"book\">\n    <div class=\"inner\">\n      <div class=\"left\"></div>\n      <div class=\"middle\"></div>\n      <div class=\"right\"></div>\n    </div>\n    <ul>\n      <li></li>\n      <li></li>\n      <li></li>\n      <li></li>\n      <li></li>\n      <li></li>\n      <li></li>\n      <li></li>\n      <li></li>\n      <li></li>\n      <li></li>\n      <li></li>\n      <li></li>\n      <li></li>\n      <li></li>\n      <li></li>\n      <li></li>\n      <li></li>\n    </ul>\n  </div>`;\n}","import books from '../../images/shoping-list/shoping-list-bg@1x.png';\nimport { refs } from './refs';\n\nexport function notFound() {\n  const imagePage404 = document.createElement('img');\n  imagePage404.src = books;\n  imagePage404.classList.add('not-found');\n  const containerWarning = document.createElement('div');\n  containerWarning.classList.add('warning-message');\n  const textWarningNotFound = `<p> There are no data to display, please select another category.</p>`;\n  containerWarning.innerHTML =  textWarningNotFound;\n  containerWarning.appendChild(imagePage404);\n  return containerWarning;\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"jcnh0\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"amO9v\")).toString();","import { refs } from './utility/refs';\nimport { onCategoryItemClick } from './render-categories';\n\nrefs.mainSectionCategories.addEventListener('click', onCategoryItemClick);\n","import { getBooksByCategory, getCategoryList } from './api-service';\nimport { normalizeMainTitle } from './utility/normilize-main-title';\nimport { renderAllCategories } from './main-page-all-catigories';\nimport { refs } from './utility/refs';\nimport Notiflix from 'notiflix';\nimport { notFound } from './utility/404';\nimport empty_pic from '../images/empty_pic.jpg';\n\ngetCategoryList()\n  .then(categoryList => {\n    const categoryListItems = categoryList\n      .map(category => {\n        return `\n        <li class = 'categories__item'>\n          <button type=\"button\" data-category-name='${category}' class='categories__name'>${category}</button>\n        </li>`;\n      })\n      .join('');\n    refs.categoriesList.innerHTML = `\n       <li class='categories__item categories__item--fixed'>\n          <button type=\"button\" class='categories__name categories__active' data-category-name='All categories'>All categories</button>\n       </li>`;\n    refs.categoriesList.insertAdjacentHTML('beforeend', categoryListItems);\n  })\n  .catch(error =>\n    Notiflix.Notify.failure('Network error, please try again later')\n  );\n\nrefs.categoriesList.addEventListener('click', onCategoryItemClick);\n\nexport function onCategoryItemClick(e) {\n  e.preventDefault();\n  const categoryName = e.target.dataset.categoryName;\n\n  if (!categoryName) {\n    return;\n  }\n\n  const activeCategory = document.querySelector('.categories__active');\n  activeCategory.classList.remove('categories__active');\n\n  const currentCategory = document.querySelector(\n    `[data-category-name=\"${categoryName}\"]`\n  );\n  currentCategory.classList.add('categories__active');\n\n  handleScrollToElement(refs.sectionCategory);\n\n  let mainTitle = document.createElement('h1');\n  const conteinerCategoryBooks = document.createElement('ul');\n  mainTitle.classList.add('bookcase__cda');\n  mainTitle.innerHTML = normalizeMainTitle(categoryName);\n  conteinerCategoryBooks.classList.add('bookshelf__content', 'book-card__list');\n\n  if (categoryName === 'All categories') {\n    renderAllCategories();\n    return;\n  }\n\n  getBooksByCategory(categoryName)\n    .then(data => {\n      if (!Boolean(data.length)) {\n        refs.mainSectionCategories.innerHTML = '';\n        return refs.mainSectionCategories.appendChild(notFound());\n      }\n\n      const booksList = data\n        .map(\n          ({\n            book_image,\n            book_image_height,\n            book_image_width,\n            author,\n            title,\n            buy_links,\n            _id,\n          }) => {\n            if (!book_image) {\n              book_image = empty_pic;\n              book_image_height = 500;\n              book_image_width = 330;\n            }\n            return `<li class='book-card__item'>\n  <a class='book-card__link' href='#' data-id='${_id}'>\n    <div class='book-card__wrapper'>\n      <img\n        class='book-card__image'\n        src='${book_image}'\n        alt=\"Here must be book's name\"\n        width='${book_image_width}'\n        height = '${book_image_height}'\n      />\n      <div class='book-card__overlay'>\n        <p class='book-card__quick-view-text'>quick view</p>\n      </div>\n    </div>\n  </a>\n  <div class='book-card__wrap'>\n    <h3 class='book-card__name'>${title ? title : 'Unknown title'}</h3>\n    <p class='book-card__author'>${author ? author : 'Unknown author'}</p>\n  </div>\n</li>`;\n          }\n        )\n        .join('');\n\n      conteinerCategoryBooks.innerHTML = booksList;\n\n      refs.sectionCategory.innerHTML = '';\n      refs.sectionCategory.appendChild(mainTitle);\n      refs.sectionCategory.appendChild(conteinerCategoryBooks);\n    })\n    .catch(error =>\n      Notiflix.Notify.failure('Network error, please try again later')\n    );\n}\n\nfunction handleScrollToElement(element, position = 'start') {\n  element.scrollIntoView({\n    behavior: 'smooth',\n    position,\n  });\n}\n","export function normalizeMainTitle(title) {\n  let lastWordCategoryName = title.split(' ');\n  if(lastWordCategoryName.length === 1) {\n    return lastWordCategoryName;\n  }\n  lastWordCategoryName = lastWordCategoryName[lastWordCategoryName.length - 1];\n  let categoryName = title.split(' ');\n  categoryName.pop();\n  let innerCategoryName = categoryName.join(' ');\n  return `${innerCategoryName} <span class=\"bookcase__filter\">${lastWordCategoryName}</span>`;\n}\n","import { refs } from './utility/refs';\nimport Notiflix from 'notiflix';\nimport { doc } from 'firebase/firestore/lite';\nimport { getBookDetail } from './api-service';\nimport Notiflix from 'notiflix';\n\nimport {\n  onPopUpBackdropClick,\n  onPopUpEscapeKeydown,\n  closePopUp,\n} from './close-pop-up';\n\nimport amazon from '../images/book-modal/amazon@1x.png';\nimport amazon2x from '../images/book-modal/amazon@2x.png';\nimport apple from '../images/book-modal/apple@1x.png';\nimport apple2x from '../images/book-modal/apple@2x.png';\nimport bookShop from '../images/book-modal/book-shop@1x.png';\nimport bookShop2x from '../images/book-modal/book-shop@2x.png';\nimport empty_pic from '../images/empty_pic.jpg';\n\nconst bookshelfContainer = document.querySelector('.bookcase');\nlet idsForCheck = [];\nlet localBooks = [];\nlet curBookId = [];\nlet userBooksId = [];\n\nlocalStorage.getItem('books-id') === null\n  ? localStorage.setItem('books-id', JSON.stringify([]))\n  : updateLocalBooks();\n\nbookshelfContainer.addEventListener('click', onClickBook);\n\nasync function onClickBook(e) {\n  try {\n    e.preventDefault();\n\n    if (!e.target.closest('.book-card__link')) {\n      return;\n    }\n\n    updateLocal();\n\n    const bookId = e.target.closest('.book-card__link').dataset.id;\n    curBookId = bookId;\n\n    const bookData = await getBookDetail(bookId);\n    const markup = createMarkupCard(bookData);\n\n    curBookId = {\n      bookId,\n      bookData,\n    };\n\n    refs.popupCardContainer.innerHTML = markup;\n\n    localBooks.forEach(book => {\n      idsForCheck.push(book.bookId);\n    });\n\n    if (idsForCheck.includes(curBookId.bookId)) {\n      refs.addToLocalBtn.innerHTML = 'remove from the shopping list';\n      refs.popupDesc.style.opacity = '1';\n    } else {\n      refs.addToLocalBtn.innerHTML = 'add to shopping list';\n      refs.popupDesc.style.opacity = '0';\n    }\n\n    if (localStorage.getItem('user') === null) {\n      refs.addToLocalBtn.innerHTML = 'add to shopping list';\n      refs.popupDesc.style.opacity = '0';\n    }\n\n    const buyLinks = bookData.buy_links;\n\n    document.body.style.overflow = 'hidden';\n    refs.popupBackdrop.classList.remove('is-hidden');\n    refs.popupCloseBtn.addEventListener('click', closePopUp);\n    refs.popupBackdrop.addEventListener('click', onPopUpBackdropClick);\n    refs.addToLocalBtn.addEventListener('click', bookToLocal);\n    window.addEventListener('keydown', onPopUpEscapeKeydown);\n  } catch (error) {\n    Notiflix.Notify.failure(`Network error, please try again later`);\n  }\n}\n\nfunction createMarkupCard({\n  title,\n  author,\n  book_image_height,\n  book_image_width,\n  book_image,\n  description,\n  buy_links,\n}) {\n  if (!book_image) {\n    book_image = empty_pic;\n    book_image_height = 500;\n    book_image_width = 330;\n  }\n  if (!description) {\n    description = 'This book has no description yet. We will add it soon.';\n  }\n  if (!author) {\n    author = 'Unknown author';\n  }\n  if (!title) {\n    title = 'Unknown title';\n  }\n\n  let amazonLink = '';\n  let appleLink = '';\n  let bookShopLink = '';\n\n  buy_links.forEach(link => {\n    if (link.name === 'Amazon') {\n      amazonLink = link.url;\n    }\n\n    if (link.name === 'Apple Books') {\n      appleLink = link.url;\n    }\n\n    if (link.name === 'Bookshop') {\n      bookShopLink = link.url;\n    }\n  });\n  return `<div class=\"pop-up__block-img\"> <img\n      class=\"pop-up__img \"\n      src=${book_image}\n      alt='${title}'\n      width=${book_image_width}\n      heigth=${book_image_height}\n    />\n    </div>\n    <div class=\"pop-up__book-info\">\n      <h2 class=\"card__book-name \">${title}</h2>\n      <h3 class=\"card__book-author \">${author}</h3>\n      <p class=\"card__book-text \">\n        ${description}\n      </p>\n      <div class=\"book-shop__thumb\">\n        <a href=\"${amazonLink}\" class=\"book-shop__link\" target=\"_blank\">\n          <picture>\n            <source\n              srcset=\"\n                ${amazon},\n                ${amazon2x}\n              \"\n            />\n            <img\n              class=\"book-shop__img\"\n              src=\"${amazon}\"\n              alt=\"amazon\"\n              width=\"48\"\n            />\n          </picture>\n        </a>\n        <a href=\"${appleLink}\" class=\"book-shop__link\" target=\"_blank\"\n          ><picture>\n            <source\n              srcset=\"\n                ${apple},\n                ${apple2x}\n              \"\n            />\n            <img\n              class=\"book-shop__img\"\n              src=\"${apple}\"\n              alt=\"apple\"\n              width=\"28\"\n            /> </picture\n        ></a>\n        <a href=\"${bookShopLink}\" class=\"book-shop__link\" target=\"_blank\"\n          ><picture>\n            <source\n              srcset=\"\n                ${bookShop},\n                ${bookShop2x}\n              \"\n            />\n            <img\n              class=\"book-shop__img\"\n              src=\"${bookShop}\"\n              alt=\"book-shop\"\n              width=\"32\"\n            /> </picture\n        ></a>\n      </div>\n    </div>`;\n}\n\nexport function bookToLocal() {\n  const isBookInLocal = localBooks.some(\n    book => book.bookId === curBookId.bookId\n  );\n  if (localStorage.getItem('user') === null) {\n    return isUser();\n  } else if (isBookInLocal) {\n    localBooks = localBooks.filter(book => book.bookId !== curBookId.bookId);\n    refs.addToLocalBtn.innerHTML = 'add to shopping list';\n    refs.popupDesc.style.opacity = '0';\n    updateLocal();\n  } else {\n    localBooks.push(curBookId);\n    refs.addToLocalBtn.innerHTML = 'remove from the shopping list';\n    refs.popupDesc.style.opacity = '1';\n    updateLocal();\n  }\n}\n\nfunction updateLocalBooks() {\n  const localBooksId = localStorage.getItem('books-id');\n  localBooks = JSON.parse(localBooksId);\n}\n\nfunction updateLocal() {\n  localStorage.setItem('books-id', JSON.stringify(localBooks));\n  idsForCheck = [];\n}\n\nfunction isUser() {\n  if (localStorage.getItem('user') === null) {\n    refs.addToLocalBtn.setAttribute('disabled', 'true');\n    refs.addToLocalBtn.style.backgroundColor = '#b4afaf';\n    refs.addToLocalBtn.style.color = '#ffffff';\n    setTimeout(() => {\n      refs.addToLocalBtn.removeAttribute('disabled');\n      refs.addToLocalBtn.style = 'none';\n    }, 2000);\n    return Notiflix.Notify.failure(\n      'Please register or sign in to your account to use this feature.',\n      { timeout: 2000 }\n    );\n  }\n}\n","import { refs } from './utility/refs';\nimport { bookToLocal } from './bookshelf';\nconst ESC_KEY_POPUP = 'Escape';\n\n// click on backdrop closes Pop Up\nexport function onPopUpBackdropClick(event) {\n  if (event.currentTarget === event.target) {\n    closePopUp();\n  }\n}\n\n// click on Esc closes Pop Up\nexport function onPopUpEscapeKeydown(event) {\n  if (event.key === ESC_KEY_POPUP) {\n    closePopUp();\n  }\n}\n\n// closes Pop Up and removes listeners\nexport function closePopUp() {\n  refs.popupBackdrop.classList.add('is-hidden');\n\n  // remove listeners from closeModalBtn, backdrop, keydown(escape)\n  refs.popupCloseBtn.removeEventListener('click', closePopUp);\n  refs.popupBackdrop.removeEventListener('click', onPopUpBackdropClick);\n  refs.addToLocalBtn.removeEventListener('click', bookToLocal);\n  window.removeEventListener('keydown', onPopUpEscapeKeydown);\n  document.body.style.overflow = '';\n}\n","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"3OouQ\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"ctt8U\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"1XqBp\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"gK52N\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"lT7aj\")).toString();","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"ifLYX\")).toString();","import { refs } from './refs';\n\nwindow.addEventListener('scroll', function () {\n  const sidebarHeight = refs.sidebar.offsetHeight;\n  const contentHeight = refs.content.offsetHeight;\n  const scrollPosition =\n    window.pageYOffset || document.documentElement.scrollTop;\n\n  if (scrollPosition === 0) {\n    refs.sidebar.scrollTop = 0;\n  }\n\n  if (scrollPosition + window.innerHeight >= contentHeight) {\n    refs.sidebar.scrollTop =\n      sidebarHeight - window.innerHeight + contentHeight - scrollPosition;\n  }\n});\n"],"names":["parcelRequire","register","JSON","parse","$7me8F","$in2tx","$00cfbbdd8a53f936$export$95fec50f68454318","refs","spinner","classList","contains","add","replaceChildren","document","body","style","overflow","$691498d26d611cba$export$a33e918cb4258370","imagePage404","createElement","src","$parcel$interopDefault","$aff02d602195b7e0$exports","containerWarning","innerHTML","appendChild","URL","resolve","import","meta","url","toString","$6128e9e7d3218a15$export$5d9ce0d4feca8c54","containerBookshelfList","remove","insertAdjacentHTML","getTopBooks","then","allCategories","Boolean","length","mainSectionCategories","result","map","list_name","books","_id","book_image_height","book_image_width","author","book_image","title","$87984a37f3c51587$exports","join","catch","error","$7Y9D8","Notify","failure","finally","logo","addEventListener","$777ce85cc3b2c375$export$883bce742a325e8","lastWordCategoryName","split","categoryName","pop","$3bf75b23c61476cf$export$6f59276a3735a25b","e","preventDefault","target","dataset","querySelector","element","position","scrollIntoView","behavior","$3bf75b23c61476cf$var$handleScrollToElement","sectionCategory","mainTitle","conteinerCategoryBooks","getBooksByCategory","data","booksList","buy_links","getCategoryList","categoryList","categoryListItems","category","categoriesList","$e992b59938b7be08$export$e71d71b1248c2c46","event","currentTarget","$e992b59938b7be08$export$a91cc650c2581296","$e992b59938b7be08$export$9f1ecdbf70301f40","key","popupBackdrop","popupCloseBtn","removeEventListener","addToLocalBtn","$368638865275aebc$export$5e79b6998b986c67","window","$9ba05085cb522909$exports","$710801a6768c46d6$exports","$f30725d53a5f226a$exports","$12e1b74fccc730d9$exports","$517d2ca70bdee327$exports","$9352f9d5b58ee851$exports","$368638865275aebc$var$bookshelfContainer","$368638865275aebc$var$idsForCheck","$368638865275aebc$var$localBooks","$368638865275aebc$var$curBookId","isBookInLocal","some","book","bookId","localStorage","getItem","setAttribute","backgroundColor","color","setTimeout","removeAttribute","timeout","$368638865275aebc$var$isUser","filter","popupDesc","opacity","$368638865275aebc$var$updateLocal","push","setItem","stringify","localBooksId","$368638865275aebc$var$updateLocalBooks","async","closest","id","bookData","getBookDetail","markup","description","amazonLink","appleLink","bookShopLink","forEach","link","name","$368638865275aebc$var$createMarkupCard","popupCardContainer","includes","sidebarHeight","sidebar","offsetHeight","contentHeight","content","scrollPosition","pageYOffset","documentElement","scrollTop","innerHeight"],"version":3,"file":"index.7c585a4f.js.map"}