!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},a={},o={},t=n.parcelRequired7c6;null==t&&((t=function(e){if(e in a)return a[e].exports;if(e in o){var n=o[e];delete o[e];var t={id:e,exports:{}};return a[e]=t,n.call(t.exports,t,t.exports),t.exports}var c=new Error("Cannot find module '"+e+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(e,n){o[e]=n},n.parcelRequired7c6=t),t("iE7OH").register(JSON.parse('{"EVgbq":"index.2010d541.js","6ztcb":"amazon@1x.17c4c4f2.png","1iaLI":"amazon@2x.225c89fa.png","f8I3T":"apple@1x.bdfd714b.png","3ZLqn":"apple@2x.93da152b.png","9Cr2S":"book-shop@1x.926d07c4.png","8Aq8R":"book-shop@2x.d7c8ffd1.png","lxDUL":"shopping-list.556ab54d.js"}')),t("1h2Gi");var c=t("1h2Gi"),r=t("kVdBw");function s(){var e="<h1 class='bookcase__cda'>\n          Best Sellers <span class='bookcase__filter'>Books</span>\n        </h1>",n=document.createElement("ul");n.classList.add("bookshelf__list"),(0,c.getTopBooks)().then((function(a){if(!Boolean(a.length))return e="<h1 class='bookcase__cda' style='text-align: center; margin-top: 50px'>\n          There are no data to display, please select another category\n        </h1>",r.refs.mainSectionCategories.innerHTML=e;var o=a.map((function(e){var n=e.list_name,a=e.books;return"\n          <li class='bookshelf__item'>\n            <h2 class='bookshelf__title'>".concat(n,"</h2>\n            <ul class='bookshelf__content book-card__list'>\n              ").concat(a.map((function(e){var n=e._id,a=e.book_image_height,o=e.book_image_width,t=e.author,c=e.book_image,r=e.title;return"<li class='book-card__item'>\n                  <a class='book-card__link' href='#' data-id='".concat(n,"'>\n                    <div class='book-card__wrapper'>\n                      <img class='book-card__image' src='").concat(c,"' alt=\"Here must be book's name\"\n                      width='").concat(o,"'\n                      height='").concat(a,"'>\n                      <div class='book-card__overlay'>\n                        <p class='book-card__quick-view-text'>quick view</p>\n                      </div>\n                    </div>\n                  </a>\n                  <div class='book-card__wrap'>\n                    <h3 class='book-card__name'>").concat(r,"</h3>\n                    <p class='book-card__author'>").concat(t,"</p>\n                  </div>\n                </li>")})).join(""),"\n        </ul>\n            <button class='bookshelf__btn' type='button' data-see-more data-category-name='").concat(n,"'>see more</button>\n         </li>\n      ")})).join("");n.innerHTML=o,r.refs.mainSectionCategories.innerHTML=e,r.refs.mainSectionCategories.appendChild(n)})).catch((function(e){console.log(e.message)}))}s();r=t("kVdBw"),c=t("1h2Gi");function i(e){var n=e.split(" ");if(1===n.length)return n;n=n[n.length-1];var a=e.split(" ");a.pop();var o=a.join(" ");return"".concat(o,' <span class="bookcase__filter">').concat(n,"</span>")}r=t("kVdBw");var l=document.querySelector(".categories__list"),d=document.querySelector(".bookcase");function _(e){e.preventDefault();var n=e.target.dataset.categoryName;if(n){var a=document.createElement("h1"),o=document.createElement("ul");a.classList.add("bookcase__cda"),a.innerHTML=i(n),o.classList.add("bookshelf__content","book-card__list"),"All categories"!==n?(0,c.getBooksByCategory)(n).then((function(e){if(!Boolean(e.length))return a="<h1 class='bookcase__cda' style='text-align: center; margin-top: 50px'>\n            There are no data to display, please select another category\n          </h1>",r.refs.mainSectionCategories.innerHTML=a;var n=e.map((function(e){var n=e.book_image,a=e.book_image_height,o=e.book_image_width,t=e.author,c=e.title,r=(e.buy_links,e._id);return"<li class='book-card__item'>\n  <a class='book-card__link' href='#' data-id='".concat(r,"'>\n    <div class='book-card__wrapper'>\n      <img\n        class='book-card__image'\n        src='").concat(n,"'\n        alt=\"Here must be book's name\"\n        width='").concat(o,"'\n        height = '").concat(a,"'\n      />\n      <div class='book-card__overlay'>\n        <p class='book-card__quick-view-text'>quick view</p>\n      </div>\n    </div>\n  </a>\n  <div class='book-card__wrap'>\n    <h3 class='book-card__name'>").concat(c,"</h3>\n    <p class='book-card__author'>").concat(t,"</p>\n  </div>\n</li>")})).join("");o.innerHTML=n,d.innerHTML="",d.appendChild(a),d.appendChild(o)})).catch((function(e){return console.log(e.message)})):s()}}(0,c.getCategoryList)().then((function(e){var n=e.map((function(e){return"\n        <li class = 'categories__item'>\n          <a href='#' data-category-name='".concat(e,"' class='categories__name'>").concat(e,"</a>\n        </li>")})).join("");l.innerHTML="\n       <li class='categories__item categories__item--fixed'>\n          <a href='#' class='categories__name categories__active' data-category-name='All categories'>All categories</a>\n       </li>",l.insertAdjacentHTML("beforeend",n)})).catch((function(e){return console.log(e.message)})),l.addEventListener("click",_),r.refs.mainSectionCategories.addEventListener("click",_),t("9hn33"),t("hqhs8"),t("9A7sA"),t("ivz30"),t("kgvtT");var p=t("bpxeT"),u=t("2TvXO");r=t("kVdBw");t("587DK");c=t("1h2Gi"),r=t("kVdBw");function k(e){e.currentTarget===e.target&&b()}function h(e){"Escape"===e.key&&b()}function b(){r.refs.popupBackdrop.classList.add("is-hidden"),r.refs.popupCloseBtn.removeEventListener("click",b),r.refs.popupBackdrop.removeEventListener("click",k),window.removeEventListener("keydown",h),document.body.style.overflow=""}var g;g=t("aNJCr").getBundleURL("EVgbq")+t("iE7OH").resolve("6ztcb");var f;f=t("aNJCr").getBundleURL("EVgbq")+t("iE7OH").resolve("1iaLI");var m;m=t("aNJCr").getBundleURL("EVgbq")+t("iE7OH").resolve("f8I3T");var v;v=t("aNJCr").getBundleURL("EVgbq")+t("iE7OH").resolve("3ZLqn");var w;w=t("aNJCr").getBundleURL("EVgbq")+t("iE7OH").resolve("9Cr2S");var E;function L(){return(L=e(p)(e(u).mark((function n(a){var o,t,s;return e(u).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),a.target.closest(".book-card__link")){e.next=3;break}return e.abrupt("return");case 3:return o=a.target.closest(".book-card__link").dataset.id,e.next=6,(0,c.getBookDetail)(o);case 6:t=e.sent,s=H(t),r.refs.popupCardContainer.innerHTML=s,document.body.style.overflow="hidden",r.refs.popupBackdrop.classList.remove("is-hidden"),r.refs.popupCloseBtn.addEventListener("click",b),r.refs.popupBackdrop.addEventListener("click",k),window.addEventListener("keydown",h);case 14:case"end":return e.stop()}}),n)})))).apply(this,arguments)}function H(n){var a=n.title,o=n.author,t=n.book_image_height,c=n.book_image_width,r=n.book_image,s=n.description,i=n.buy_links;s||(s="N/A"),o||(o="N/A"),a||(a="N/A");var l="",d="",_="";return i.forEach((function(e){"Amazon"===e.name&&(l=e.url),"Apple Books"===e.name&&(d=e.url),"Bookshop"===e.name&&(_=e.url)})),'<div class="pop-up__block-img"> <img\n      class="pop-up__img "\n      src='.concat(r,"\n      alt='").concat(a,"'\n      width=").concat(c,"\n      heigth=").concat(t,'\n    />\n    </div>\n    <div class="pop-up__book-info">\n      <h2 class="card__book-name ">').concat(a,'</h2>\n      <h3 class="card__book-author ">').concat(o,'</h3>\n      <p class="card__book-text ">\n        ').concat(s,'\n      </p>\n      <div class="book-shop__thumb">\n        <a href="').concat(l,'" class="book-shop__link" target="_blank">\n          <picture>\n            <source\n              srcset="\n                ').concat(e(g),",\n                ").concat(e(f),'\n              "\n            />\n            <img\n              class="book-shop__img"\n              src="').concat(e(g),'"\n              alt="amazon"\n              width="48"\n            />\n          </picture>\n        </a>\n        <a href="').concat(d,'" class="book-shop__link" target="_blank"\n          ><picture>\n            <source\n              srcset="\n                ').concat(e(m),",\n                ").concat(e(v),'\n              "\n            />\n            <img\n              class="book-shop__img"\n              src="').concat(e(m),'"\n              alt="apple"\n              width="28"\n            /> </picture\n        ></a>\n        <a href="').concat(_,'" class="book-shop__link" target="_blank"\n          ><picture>\n            <source\n              srcset="\n                ').concat(e(w),",\n                ").concat(e(E),'\n              "\n            />\n            <img\n              class="book-shop__img"\n              src="').concat(e(w),'"\n              alt="book-shop"\n              width="32"\n            /> </picture\n        ></a>\n      </div>\n    </div>')}E=t("aNJCr").getBundleURL("EVgbq")+t("iE7OH").resolve("8Aq8R"),document.querySelector(".bookcase").addEventListener("click",(function(e){return L.apply(this,arguments)})),t("8zUhP"),t("8e9SS")}();
//# sourceMappingURL=index.2010d541.js.map
