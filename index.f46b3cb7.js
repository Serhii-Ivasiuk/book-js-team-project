!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},n={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in o)return o[e].exports;if(e in n){var a=n[e];delete n[e];var t={id:e,exports:{}};return o[e]=t,a.call(t.exports,t,t.exports),t.exports}var c=new Error("Cannot find module '"+e+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(e,o){n[e]=o},e.parcelRequired7c6=a),a("1h2Gi");var t=a("1h2Gi"),c=a("kVdBw");function i(){var e="<h1 class='bookcase__cda'>\n          Best Sellers <span class='bookcase__filter'>Books</span>\n        </h1>",o=document.createElement("ul");o.classList.add("bookshelf__list"),(0,t.getTopBooks)().then((function(n){if(!Boolean(n.length))return e="<h1 class='bookcase__cda' style='text-align: center; margin-top: 50px'>\n          There are no data to display, please select another category\n        </h1>",c.refs.mainSectionCategories.innerHTML=e;var a=n.map((function(e){var o=e.list_name,n=e.books;return"\n          <li class='bookshelf__item'>\n            <h2 class='bookshelf__title'>".concat(o,"</h2>\n            <ul class='bookshelf__content book-card__list'>\n              ").concat(n.map((function(e){var o=e._id,n=e.book_image_height,a=e.book_image_width,t=e.author,c=e.book_image,i=e.title;return"<li class='book-card__item'>\n                  <a class='book-card__link' href='#' data-id='".concat(o,"'>\n                    <div class='book-card__wrapper'>\n                      <img class='book-card__image' src='").concat(c,"' alt=\"Here must be book's name\"\n                      width='").concat(a,"'\n                      height='").concat(n,"'>\n                      <div class='book-card__overlay'>\n                        <p class='book-card__quick-view-text'>quick view</p>\n                      </div>\n                    </div>\n                  </a>\n                  <div class='book-card__wrap'>\n                    <h3 class='book-card__name'>").concat(i,"</h3>\n                    <p class='book-card__author'>").concat(t,"</p>\n                  </div>\n                </li>")})).join(""),"\n        </ul>\n            <button class='bookshelf__btn' type='button' data-see-more data-category-name='").concat(o,"'>see more</button>\n         </li>\n      ")})).join("");o.innerHTML=a,c.refs.mainSectionCategories.innerHTML=e,c.refs.mainSectionCategories.appendChild(o)})).catch((function(e){console.log(e.message)}))}i();c=a("kVdBw"),t=a("1h2Gi");function r(e){var o=e.split(" ");if(1===o.length)return o;o=o[o.length-1];var n=e.split(" ");n.pop();var a=n.join(" ");return"".concat(a,' <span class="bookcase__filter">').concat(o,"</span>")}c=a("kVdBw");var s=document.querySelector(".categories__list"),l=document.querySelector(".bookcase");function d(e){e.preventDefault();var o=e.target.dataset.categoryName;if(o){var n=document.createElement("h1"),a=document.createElement("ul");n.classList.add("bookcase__cda"),n.innerHTML=r(o),a.classList.add("bookshelf__content","book-card__list"),"All categories"!==o?(0,t.getBooksByCategory)(o).then((function(e){if(!Boolean(e.length))return n="<h1 class='bookcase__cda' style='text-align: center; margin-top: 50px'>\n            There are no data to display, please select another category\n          </h1>",c.refs.mainSectionCategories.innerHTML=n;var o=e.map((function(e){var o=e.book_image,n=e.book_image_height,a=e.book_image_width,t=e.author,c=e.title,i=(e.buy_links,e._id);return"<li class='book-card__item'>\n  <a class='book-card__link' href='#' data-id='".concat(i,"'>\n    <div class='book-card__wrapper'>\n      <img\n        class='book-card__image'\n        src='").concat(o,"'\n        alt=\"Here must be book's name\"\n        width='").concat(a,"'\n        height = '").concat(n,"'\n      />\n      <div class='book-card__overlay'>\n        <p class='book-card__quick-view-text'>quick view</p>\n      </div>\n    </div>\n  </a>\n  <div class='book-card__wrap'>\n    <h3 class='book-card__name'>").concat(c,"</h3>\n    <p class='book-card__author'>").concat(t,"</p>\n  </div>\n</li>")})).join("");a.innerHTML=o,l.innerHTML="",l.appendChild(n),l.appendChild(a)})).catch((function(e){return console.log(e.message)})):i()}}(0,t.getCategoryList)().then((function(e){var o=e.map((function(e){return"\n        <li class = 'categories__item'>\n          <a href='#' data-category-name='".concat(e,"' class='categories__name'>").concat(e,"</a>\n        </li>")})).join("");s.innerHTML="\n       <li class='categories__item categories__item--fixed'>\n          <a href='#' class='categories__name categories__active' data-category-name='All categories'>All categories</a>\n       </li>",s.insertAdjacentHTML("beforeend",o)})).catch((function(e){return console.log(e.message)})),s.addEventListener("click",d),c.refs.mainSectionCategories.addEventListener("click",d),a("hqhs8"),a("9A7sA"),a("ivz30"),a("kgvtT");t=a("1h2Gi");document.querySelector(".bookcase").addEventListener("click",(function(e){if(e.preventDefault(),!e.target.closest(".book-card__link"))return;var o=e.target.closest(".book-card__link").dataset.id;(0,t.getBookDetail)(o).then((function(e){var o=e.book_image_height,n=e.book_image_width,a=e.book_image,t=e.description,c=e.author,i=e.title;console.log(o),console.log(n),console.log(a),console.log(c),console.log(i),console.log(t)}))})),a("8zUhP"),a("8e9SS");c=a("kVdBw");function _(e){e.currentTarget===e.target&&u()}function k(e){"Escape"===e.key&&u()}function u(){c.refs.popupBackdrop.classList.add("is-hidden"),c.refs.popupCloseBtn.removeEventListener("click",u),c.refs.popupBackdrop.removeEventListener("click",_),window.removeEventListener("keydown",k)}c.refs.popupCloseBtn.addEventListener("click",u),c.refs.popupBackdrop.addEventListener("click",_),window.addEventListener("keydown",k)}();
//# sourceMappingURL=index.f46b3cb7.js.map
