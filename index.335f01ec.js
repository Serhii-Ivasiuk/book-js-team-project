!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},a={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in o)return o[e].exports;if(e in a){var n=a[e];delete a[e];var t={id:e,exports:{}};return o[e]=t,n.call(t.exports,t,t.exports),t.exports}var c=new Error("Cannot find module '"+e+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(e,o){a[e]=o},e.parcelRequired7c6=n),n("1h2Gi");var t=n("1h2Gi"),c=n("kVdBw");function i(){var e=document.createElement("ul");e.classList.add("bookshelf__list"),(0,t.getTopBooks)().then((function(o){var a=o.map((function(e){var o=e.list_name,a=e.books;return"\n          <li class='bookshelf__item'>\n            <h2 class='bookshelf__title'>".concat(o,"</h2>\n            <ul class='bookshelf__content book-card__list'>\n              ").concat(a.map((function(e){var o=e._id,a=e.book_image_height,n=e.book_image_width,t=e.author,c=e.book_image,i=e.title;return"<li class='book-card__item'>\n                  <a class='book-card__link' href='#' data-id='".concat(o,"'>\n                    <div class='book-card__wrapper'>\n                      <img class='book-card__image' src='").concat(c,"' alt=\"Here must be book's name\"\n                      width='").concat(n,"'\n                      height='").concat(a,"'>\n                      <div class='book-card__overlay'>\n                        <p class='book-card__quick-view-text'>quick view</p>\n                      </div>\n                    </div>\n                  </a>\n                  <div class='book-card__wrap'>\n                    <h3 class='book-card__name'>").concat(i,"</h3>\n                    <p class='book-card__author'>").concat(t,"</p>\n                  </div>\n                </li>")})).join(""),"\n        </ul>\n            <button class='bookshelf__btn' type='button' data-see-more data-category-name='").concat(o,"'>see more</button>\n         </li>\n      ")})).join("");e.innerHTML=a,c.refs.mainSectionCategories.innerHTML="<h1 class='bookcase__cda'>\n          Best Sellers <span class='bookcase__filter'>Books</span>\n        </h1>",c.refs.mainSectionCategories.appendChild(e)})).catch((function(e){console.log(e.message)}))}i();c=n("kVdBw"),t=n("1h2Gi");function s(e){var o=e.split(" ");if(1===o.length)return o;o=o[o.length-1];var a=e.split(" ");a.pop();var n=a.join(" ");return"".concat(n,' <span class="bookcase__filter">').concat(o,"</span>")}var r=document.querySelector(".categories__list"),l=document.querySelector(".bookcase");function d(e){e.preventDefault();var o=e.target.dataset.categoryName;if(o){var a=document.createElement("h1"),n=document.createElement("ul");a.classList.add("bookcase__cda"),a.innerHTML=s(o),n.classList.add("bookshelf__content","book-card__list"),"All categories"!==o?(0,t.getBooksByCategory)(o).then((function(e){var o=e.map((function(e){var o=e.book_image,a=e.book_image_height,n=e.book_image_width,t=e.author,c=e.title,i=(e.buy_links,e._id);return"<li class='book-card__item'>\n  <a class='book-card__link' href='#' data-id='".concat(i,"'>\n    <div class='book-card__wrapper'>\n      <img\n        class='book-card__image'\n        src='").concat(o,"'\n        alt=\"Here must be book's name\"\n        width='").concat(n,"'\n        height = '").concat(a,"'\n      />\n      <div class='book-card__overlay'>\n        <p class='book-card__quick-view-text'>quick view</p>\n      </div>\n    </div>\n  </a>\n  <div class='book-card__wrap'>\n    <h3 class='book-card__name'>").concat(c,"</h3>\n    <p class='book-card__author'>").concat(t,"</p>\n  </div>\n</li>")})).join("");n.innerHTML=o,l.innerHTML="",l.appendChild(a),l.appendChild(n)})).catch((function(e){return console.log(e.message)})):i()}}(0,t.getCategoryList)().then((function(e){var o=e.map((function(e){return"\n        <li class = 'categories__item'>\n          <a href='#' data-category-name='".concat(e,"' class='categories__name'>").concat(e,"</a>\n        </li>")})).join("");r.innerHTML="\n       <li class='categories__item categories__item--fixed'>\n          <a href='#' class='categories__name categories__active' data-category-name='All categories'>All categories</a>\n       </li>",r.insertAdjacentHTML("beforeend",o)})).catch((function(e){return console.log(e.message)})),r.addEventListener("click",d),c.refs.mainSectionCategories.addEventListener("click",d),n("hqhs8"),n("9A7sA"),n("ivz30"),n("kgvtT");t=n("1h2Gi");document.querySelector(".bookcase").addEventListener("click",(function(e){if(e.preventDefault(),!e.target.closest(".book-card__link"))return;var o=e.target.closest(".book-card__link").dataset.id;(0,t.getBookDetail)(o).then((function(e){var o=e.book_image_height,a=e.book_image_width,n=e.book_image,t=e.description,c=e.author,i=e.title;console.log(o),console.log(a),console.log(n),console.log(c),console.log(i),console.log(t)}))})),n("8zUhP")}();
//# sourceMappingURL=index.335f01ec.js.map
