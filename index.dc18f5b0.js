var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},a={},n=e.parcelRequired7c6;null==n&&((n=function(e){if(e in o)return o[e].exports;if(e in a){var n=a[e];delete a[e];var t={id:e,exports:{}};return o[e]=t,n.call(t.exports,t,t.exports),t.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,o){a[e]=o},e.parcelRequired7c6=n),n("7me8F");var t=n("7me8F"),s=n("in2tx");function i(){const e=document.createElement("ul");e.classList.add("bookshelf__list"),(0,t.getTopBooks)().then((o=>{const a=o.map((({list_name:e,books:o})=>`\n          <li class='bookshelf__item'>\n            <h2 class='bookshelf__title'>${e}</h2>\n            <ul class='bookshelf__content book-card__list'>\n              ${o.map((({_id:e,book_image_height:o,book_image_width:a,author:n,book_image:t,title:s})=>`<li class='book-card__item'>\n                  <a class='book-card__link' href='#' data-id='${e}'>\n                    <div class='book-card__wrapper'>\n                      <img class='book-card__image' src='${t}' alt="Here must be book's name"\n                      width='${a}'\n                      height='${o}'>\n                      <div class='book-card__overlay'>\n                        <p class='book-card__quick-view-text'>quick view</p>\n                      </div>\n                    </div>\n                  </a>\n                  <div class='book-card__wrap'>\n                    <h3 class='book-card__name'>${s}</h3>\n                    <p class='book-card__author'>${n}</p>\n                  </div>\n                </li>`)).join("")}\n        </ul>\n            <button class='bookshelf__btn' type='button' data-see-more data-category-name='${e}'>see more</button>\n         </li>\n      `)).join("");e.innerHTML=a,s.refs.mainSectionCategories.innerHTML="<h1 class='bookcase__cda'>\n          Best Sellers <span class='bookcase__filter'>Books</span>\n        </h1>",s.refs.mainSectionCategories.appendChild(e)})).catch((e=>{console.log(e.message)}))}i();s=n("in2tx"),t=n("7me8F");function c(e){let o=e.split(" ");if(1===o.length)return o;o=o[o.length-1];let a=e.split(" ");return a.pop(),`${a.join(" ")} <span class="bookcase__filter">${o}</span>`}const l=document.querySelector(".categories__list"),r=document.querySelector(".bookcase");function d(e){e.preventDefault();const o=e.target.dataset.categoryName;if(!o)return;const a=document.createElement("h1"),n=document.createElement("ul");a.classList.add("bookcase__cda"),a.innerHTML=c(o),n.classList.add("bookshelf__content","book-card__list"),"All categories"!==o?(0,t.getBooksByCategory)(o).then((e=>{const o=e.map((({book_image:e,book_image_height:o,book_image_width:a,author:n,title:t,buy_links:s,_id:i})=>`<li class='book-card__item'>\n  <a class='book-card__link' href='#' data-id='${i}'>\n    <div class='book-card__wrapper'>\n      <img\n        class='book-card__image'\n        src='${e}'\n        alt="Here must be book's name"\n        width='${a}'\n        height = '${o}'\n      />\n      <div class='book-card__overlay'>\n        <p class='book-card__quick-view-text'>quick view</p>\n      </div>\n    </div>\n  </a>\n  <div class='book-card__wrap'>\n    <h3 class='book-card__name'>${t}</h3>\n    <p class='book-card__author'>${n}</p>\n  </div>\n</li>`)).join("");n.innerHTML=o,r.innerHTML="",r.appendChild(a),r.appendChild(n)})).catch((e=>console.log(e.message))):i()}(0,t.getCategoryList)().then((e=>{const o=e.map((e=>`\n        <li class = 'categories__item'>\n          <a href='#' data-category-name='${e}' class='categories__name'>${e}</a>\n        </li>`)).join("");l.innerHTML="\n       <li class='categories__item categories__item--fixed'>\n          <a href='#' class='categories__name categories__active' data-category-name='All categories'>All categories</a>\n       </li>",l.insertAdjacentHTML("beforeend",o)})).catch((e=>console.log(e.message))),l.addEventListener("click",d),s.refs.mainSectionCategories.addEventListener("click",d),n("jUhQ3"),n("8QtOa"),n("fn969"),n("4GINZ");t=n("7me8F");document.querySelector(".bookcase").addEventListener("click",(function(e){if(e.preventDefault(),!e.target.closest(".book-card__link"))return;const o=e.target.closest(".book-card__link").dataset.id;(0,t.getBookDetail)(o).then((({book_image_height:e,book_image_width:o,book_image:a,description:n,author:t,title:s})=>{console.log(e),console.log(o),console.log(a),console.log(t),console.log(s),console.log(n)}))})),n("56a1K");
//# sourceMappingURL=index.dc18f5b0.js.map
