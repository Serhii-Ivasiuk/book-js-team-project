var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},n={},t=e.parcelRequired7c6;null==t&&((t=function(e){if(e in o)return o[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return o[e]=a,t.call(a.exports,a,a.exports),a.exports}var s=new Error("Cannot find module '"+e+"'");throw s.code="MODULE_NOT_FOUND",s}).register=function(e,o){n[e]=o},e.parcelRequired7c6=t),t("7me8F");var a=t("7me8F"),s=t("in2tx");function i(){let e="<h1 class='bookcase__cda'>\n          Best Sellers <span class='bookcase__filter'>Books</span>\n        </h1>";const o=document.createElement("ul");o.classList.add("bookshelf__list"),(0,a.getTopBooks)().then((n=>{if(!Boolean(n.length))return e="<h1 class='bookcase__cda' style='text-align: center; margin-top: 50px'>\n          There are no data to display, please select another category\n        </h1>",s.refs.mainSectionCategories.innerHTML=e;const t=n.map((({list_name:e,books:o})=>`\n          <li class='bookshelf__item'>\n            <h2 class='bookshelf__title'>${e}</h2>\n            <ul class='bookshelf__content book-card__list'>\n              ${o.map((({_id:e,book_image_height:o,book_image_width:n,author:t,book_image:a,title:s})=>`<li class='book-card__item'>\n                  <a class='book-card__link' href='#' data-id='${e}'>\n                    <div class='book-card__wrapper'>\n                      <img class='book-card__image' src='${a}' alt="Here must be book's name"\n                      width='${n}'\n                      height='${o}'>\n                      <div class='book-card__overlay'>\n                        <p class='book-card__quick-view-text'>quick view</p>\n                      </div>\n                    </div>\n                  </a>\n                  <div class='book-card__wrap'>\n                    <h3 class='book-card__name'>${s}</h3>\n                    <p class='book-card__author'>${t}</p>\n                  </div>\n                </li>`)).join("")}\n        </ul>\n            <button class='bookshelf__btn' type='button' data-see-more data-category-name='${e}'>see more</button>\n         </li>\n      `)).join("");o.innerHTML=t,s.refs.mainSectionCategories.innerHTML=e,s.refs.mainSectionCategories.appendChild(o)})).catch((e=>{console.log(e.message)}))}i();s=t("in2tx"),a=t("7me8F");function c(e){let o=e.split(" ");if(1===o.length)return o;o=o[o.length-1];let n=e.split(" ");return n.pop(),`${n.join(" ")} <span class="bookcase__filter">${o}</span>`}s=t("in2tx");const r=document.querySelector(".categories__list"),l=document.querySelector(".bookcase");function d(e){e.preventDefault();const o=e.target.dataset.categoryName;if(!o)return;let n=document.createElement("h1");const t=document.createElement("ul");n.classList.add("bookcase__cda"),n.innerHTML=c(o),t.classList.add("bookshelf__content","book-card__list"),"All categories"!==o?(0,a.getBooksByCategory)(o).then((e=>{if(!Boolean(e.length))return n="<h1 class='bookcase__cda' style='text-align: center; margin-top: 50px'>\n            There are no data to display, please select another category\n          </h1>",s.refs.mainSectionCategories.innerHTML=n;const o=e.map((({book_image:e,book_image_height:o,book_image_width:n,author:t,title:a,buy_links:s,_id:i})=>`<li class='book-card__item'>\n  <a class='book-card__link' href='#' data-id='${i}'>\n    <div class='book-card__wrapper'>\n      <img\n        class='book-card__image'\n        src='${e}'\n        alt="Here must be book's name"\n        width='${n}'\n        height = '${o}'\n      />\n      <div class='book-card__overlay'>\n        <p class='book-card__quick-view-text'>quick view</p>\n      </div>\n    </div>\n  </a>\n  <div class='book-card__wrap'>\n    <h3 class='book-card__name'>${a}</h3>\n    <p class='book-card__author'>${t}</p>\n  </div>\n</li>`)).join("");t.innerHTML=o,l.innerHTML="",l.appendChild(n),l.appendChild(t)})).catch((e=>console.log(e.message))):i()}(0,a.getCategoryList)().then((e=>{const o=e.map((e=>`\n        <li class = 'categories__item'>\n          <a href='#' data-category-name='${e}' class='categories__name'>${e}</a>\n        </li>`)).join("");r.innerHTML="\n       <li class='categories__item categories__item--fixed'>\n          <a href='#' class='categories__name categories__active' data-category-name='All categories'>All categories</a>\n       </li>",r.insertAdjacentHTML("beforeend",o)})).catch((e=>console.log(e.message))),r.addEventListener("click",d),s.refs.mainSectionCategories.addEventListener("click",d),t("jUhQ3"),t("8QtOa"),t("fn969"),t("4GINZ");a=t("7me8F");document.querySelector(".bookcase").addEventListener("click",(function(e){if(e.preventDefault(),!e.target.closest(".book-card__link"))return;const o=e.target.closest(".book-card__link").dataset.id;(0,a.getBookDetail)(o).then((({book_image_height:e,book_image_width:o,book_image:n,description:t,author:a,title:s})=>{console.log(e),console.log(o),console.log(n),console.log(a),console.log(s),console.log(t)}))})),t("56a1K"),t("iuRNH");s=t("in2tx");function _(e){e.currentTarget===e.target&&p()}function g(e){"Escape"===e.key&&p()}function p(){s.refs.popupBackdrop.classList.add("is-hidden"),s.refs.popupCloseBtn.removeEventListener("click",p),s.refs.popupBackdrop.removeEventListener("click",_),window.removeEventListener("keydown",g)}s.refs.popupCloseBtn.addEventListener("click",p),s.refs.popupBackdrop.addEventListener("click",_),window.addEventListener("keydown",g);
//# sourceMappingURL=index.450aed77.js.map
